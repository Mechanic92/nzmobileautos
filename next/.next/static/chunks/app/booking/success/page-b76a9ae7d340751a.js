(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{5604:(e,t,r)=>{Promise.resolve().then(r.bind(r,2129))},4760:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(7507);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:c?24*Number(n)/Number(s):n,className:i("lucide",o),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:c,...o}=r;return(0,a.createElement)(n,{ref:l,iconNode:t,className:i("lucide-".concat(s(e)),c),...o})});return r.displayName="".concat(e),r}},9814:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4760).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1502:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4760).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2966:(e,t,r)=>{"use strict";var a=r(2394);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},2129:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(3827),s=r(2966),i=r(7507),l=r(1502);let n=(0,r(4760).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var c=r(9814);function o(){var e;let t=(0,s.useSearchParams)().get("session_id"),[r,o]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{if(t){let e=setInterval(async()=>{try{let r=await fetch("/api/booking/status?sessionId=".concat(t)),a=await r.json();"CONFIRMED"===a.status&&(u(a),o(!1),clearInterval(e))}catch(e){console.error("Status check failed")}},2e3);return()=>clearInterval(e)}},[t]),(0,a.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:(0,a.jsx)("div",{className:"max-w-md w-full text-center space-y-8 animate-in fade-in zoom-in duration-500",children:r?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(l.A,{className:"animate-spin mx-auto text-brand-yellow",size:48}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Confirming Payment..."}),(0,a.jsx)("p",{className:"text-white/50 text-sm",children:"Please don't close this window. We are securing your time slot."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-brand-yellow blur-2xl opacity-20 animate-pulse"}),(0,a.jsx)(n,{className:"relative text-brand-yellow mx-auto",size:80})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h1",{className:"text-4xl font-black tracking-tighter uppercase italic",children:"Booking Confirmed!"}),(0,a.jsxs)("p",{className:"text-white/70",children:["Hi ",null==d?void 0:null===(e=d.customer)||void 0===e?void 0:e.fullName,", your mobile service is locked in for:"]}),(0,a.jsxs)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-brand-yellow",children:new Date(null==d?void 0:d.slotStart).toLocaleDateString("en-NZ",{weekday:"long",day:"numeric",month:"long"})}),(0,a.jsx)("div",{className:"text-white/50 font-mono",children:new Date(null==d?void 0:d.slotStart).toLocaleTimeString("en-NZ",{hour:"2-digit",minute:"2-digit"})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>window.location.href="/",className:"w-full py-4 bg-white text-black font-black uppercase tracking-widest rounded-xl hover:bg-brand-yellow transition-colors flex items-center justify-center gap-2",children:["Back to Website",(0,a.jsx)(c.A,{size:18})]}),(0,a.jsx)("p",{className:"text-[10px] text-white/30 uppercase font-bold tracking-widest",children:"Check your email for the confirmation & receipt."})]})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1241,4211,7358],()=>t(5604)),_N_E=e.O()}]);