/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/health/route";
exports.ids = ["app/api/health/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fhealth%2Froute&page=%2Fapi%2Fhealth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Froute.ts&appDir=C%3A%5Cnzmobileautos%5Cnext%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cnzmobileautos%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fhealth%2Froute&page=%2Fapi%2Fhealth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Froute.ts&appDir=C%3A%5Cnzmobileautos%5Cnext%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cnzmobileautos%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_nzmobileautos_next_src_app_api_health_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/health/route.ts */ \"(rsc)/./src/app/api/health/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/health/route\",\n        pathname: \"/api/health\",\n        filename: \"route\",\n        bundlePath: \"app/api/health/route\"\n    },\n    resolvedPagePath: \"C:\\\\nzmobileautos\\\\next\\\\src\\\\app\\\\api\\\\health\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_nzmobileautos_next_src_app_api_health_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4xLjlfcmVhY3QtZG9tQDE5LjIuM19yZWFjdEAxOS4yLjNfX3JlYWN0QDE5LjIuMy9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZoZWFsdGglMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmhlYWx0aCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmhlYWx0aCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDbnptb2JpbGVhdXRvcyU1Q25leHQlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNuem1vYmlsZWF1dG9zJTVDbmV4dCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDUTtBQUNyRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcbnptb2JpbGVhdXRvc1xcXFxuZXh0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGhlYWx0aFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvaGVhbHRoL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaGVhbHRoXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9oZWFsdGgvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxuem1vYmlsZWF1dG9zXFxcXG5leHRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcaGVhbHRoXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fhealth%2Froute&page=%2Fapi%2Fhealth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Froute.ts&appDir=C%3A%5Cnzmobileautos%5Cnext%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cnzmobileautos%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/health/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/health/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _server_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/db */ \"(rsc)/./src/server/db.ts\");\n\n\nconst runtime = \"nodejs\";\nasync function GET() {\n    const db = await (0,_server_db__WEBPACK_IMPORTED_MODULE_1__.dbHealthCheck)();\n    const stripeConfigured = Boolean(process.env.STRIPE_SECRET_KEY);\n    const stripeWebhookConfigured = Boolean(process.env.STRIPE_WEBHOOK_SECRET);\n    const envOk = Boolean(process.env.DATABASE_URL) && Boolean(process.env.APP_URL);\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        ok: db.ok && envOk,\n        db,\n        stripeConfigured,\n        stripeWebhookConfigured,\n        envOk\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9oZWFsdGgvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNDO0FBRXJDLE1BQU1FLFVBQVUsU0FBUztBQUV6QixlQUFlQztJQUNwQixNQUFNQyxLQUFLLE1BQU1ILHlEQUFhQTtJQUU5QixNQUFNSSxtQkFBbUJDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsaUJBQWlCO0lBQzlELE1BQU1DLDBCQUEwQkosUUFBUUMsUUFBUUMsR0FBRyxDQUFDRyxxQkFBcUI7SUFDekUsTUFBTUMsUUFBUU4sUUFBUUMsUUFBUUMsR0FBRyxDQUFDSyxZQUFZLEtBQUtQLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ00sT0FBTztJQUU5RSxPQUFPZCxxREFBWUEsQ0FBQ2UsSUFBSSxDQUFDO1FBQ3ZCQyxJQUFJWixHQUFHWSxFQUFFLElBQUlKO1FBQ2JSO1FBQ0FDO1FBQ0FLO1FBQ0FFO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXG56bW9iaWxlYXV0b3NcXG5leHRcXHNyY1xcYXBwXFxhcGlcXGhlYWx0aFxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBkYkhlYWx0aENoZWNrIH0gZnJvbSBcIkAvc2VydmVyL2RiXCI7XG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gXCJub2RlanNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgY29uc3QgZGIgPSBhd2FpdCBkYkhlYWx0aENoZWNrKCk7XG5cbiAgY29uc3Qgc3RyaXBlQ29uZmlndXJlZCA9IEJvb2xlYW4ocHJvY2Vzcy5lbnYuU1RSSVBFX1NFQ1JFVF9LRVkpO1xuICBjb25zdCBzdHJpcGVXZWJob29rQ29uZmlndXJlZCA9IEJvb2xlYW4ocHJvY2Vzcy5lbnYuU1RSSVBFX1dFQkhPT0tfU0VDUkVUKTtcbiAgY29uc3QgZW52T2sgPSBCb29sZWFuKHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCkgJiYgQm9vbGVhbihwcm9jZXNzLmVudi5BUFBfVVJMKTtcblxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgIG9rOiBkYi5vayAmJiBlbnZPayxcbiAgICBkYixcbiAgICBzdHJpcGVDb25maWd1cmVkLFxuICAgIHN0cmlwZVdlYmhvb2tDb25maWd1cmVkLFxuICAgIGVudk9rLFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJkYkhlYWx0aENoZWNrIiwicnVudGltZSIsIkdFVCIsImRiIiwic3RyaXBlQ29uZmlndXJlZCIsIkJvb2xlYW4iLCJwcm9jZXNzIiwiZW52IiwiU1RSSVBFX1NFQ1JFVF9LRVkiLCJzdHJpcGVXZWJob29rQ29uZmlndXJlZCIsIlNUUklQRV9XRUJIT09LX1NFQ1JFVCIsImVudk9rIiwiREFUQUJBU0VfVVJMIiwiQVBQX1VSTCIsImpzb24iLCJvayJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/health/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/db.ts":
/*!**************************!*\
  !*** ./src/server/db.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DbUnavailableError: () => (/* binding */ DbUnavailableError),\n/* harmony export */   assertDbHealthyOrThrow: () => (/* binding */ assertDbHealthyOrThrow),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   dbHealthCheck: () => (/* binding */ dbHealthCheck),\n/* harmony export */   isDevNoDb: () => (/* binding */ isDevNoDb)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction randomPublicId(prefix) {\n    // URL-safe short id: 10 chars approx (base64url)\n    const id = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(8).toString(\"base64url\");\n    return `${prefix}_${id}`;\n}\nfunction hasDbEnv() {\n    return Boolean(process.env.DATABASE_URL);\n}\nclass DbUnavailableError extends Error {\n    constructor(message){\n        super(message), this.code = \"DB_UNAVAILABLE\";\n        this.name = \"DbUnavailableError\";\n    }\n}\nfunction sleep(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\nfunction isLikelyDbConnectivityError(err) {\n    const msg = String(err?.message || \"\");\n    const code = String(err?.code || \"\");\n    // Prisma + Postgres connectivity failures commonly show as:\n    // - P1001 / P1002\n    // - \"Can't reach database server\"\n    // - \"ECONNREFUSED\" / \"ETIMEDOUT\" / \"ENOTFOUND\"\n    return code === \"P1001\" || code === \"P1002\" || msg.toLowerCase().includes(\"can't reach database server\") || msg.toLowerCase().includes(\"cant reach database server\") || msg.toLowerCase().includes(\"econnrefused\") || msg.toLowerCase().includes(\"etimedout\") || msg.toLowerCase().includes(\"enotfound\") || msg.toLowerCase().includes(\"connection terminated\");\n}\nasync function withDbRetries(fn) {\n    // Short, bounded retry with jitter-like increasing delays.\n    const delays = [\n        0,\n        120,\n        300\n    ];\n    let lastErr;\n    for(let attempt = 0; attempt < delays.length; attempt++){\n        if (delays[attempt] > 0) await sleep(delays[attempt]);\n        try {\n            return await fn();\n        } catch (err) {\n            lastErr = err;\n            if (!isLikelyDbConnectivityError(err) || attempt === delays.length - 1) throw err;\n        }\n    }\n    throw lastErr;\n}\nasync function dbHealthCheck() {\n    if (isDevNoDb()) return {\n        ok: true,\n        latencyMs: 0\n    };\n    if (!hasDbEnv()) return {\n        ok: false,\n        latencyMs: 0,\n        error: \"Missing DATABASE_URL\"\n    };\n    const started = Date.now();\n    try {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const timeoutMs = Number(process.env.DB_HEALTHCHECK_TIMEOUT_MS || \"1200\") || 1200;\n        await withDbRetries(async ()=>{\n            await Promise.race([\n                prisma.$queryRaw`SELECT 1`,\n                new Promise((_, reject)=>setTimeout(()=>reject(new Error(\"DB healthcheck timeout\")), timeoutMs))\n            ]);\n        });\n        return {\n            ok: true,\n            latencyMs: Date.now() - started\n        };\n    } catch (err) {\n        const msg = String(err?.message || \"DB healthcheck failed\");\n        return {\n            ok: false,\n            latencyMs: Date.now() - started,\n            error: msg\n        };\n    }\n}\nasync function assertDbHealthyOrThrow() {\n    const health = await dbHealthCheck();\n    if (!health.ok) {\n        throw new DbUnavailableError(health.error || \"Database is currently unavailable\");\n    }\n    return health;\n}\nfunction isDevNoDb() {\n    return process.env.DEV_NO_DB === \"true\" || !hasDbEnv();\n}\nconst mem = global.__devNoDbStore || (global.__devNoDbStore = {\n    bookings: new Map(),\n    quoteRequests: new Map(),\n    jobs: new Map(),\n    serviceReports: new Map(),\n    idempotency: new Map()\n});\nfunction idemMapKey(scope, key) {\n    return `${scope}:${key}`;\n}\nfunction randomPublicToken() {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(24).toString(\"base64url\");\n}\nconst memoryAdapter = {\n    async createDiagnosticsBooking (input) {\n        const id = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID();\n        const now = new Date();\n        const rec = {\n            id,\n            publicId: randomPublicId(\"bk\"),\n            kind: \"DIAGNOSTICS\",\n            status: \"PENDING_PAYMENT\",\n            customerId: randomPublicId(\"cust\"),\n            addressId: randomPublicId(\"addr\"),\n            vehicleId: randomPublicId(\"veh\"),\n            slotStart: input.slotStart,\n            slotEnd: input.slotEnd,\n            afterHours: input.afterHours,\n            symptomPreset: input.symptomPreset ?? null,\n            notes: input.notes ?? null,\n            pricingSnapshotJson: input.pricingSnapshotJson,\n            stripeSessionId: null,\n            paymentExpiresAt: input.paymentExpiresAt,\n            serviceM8JobId: null,\n            serviceM8Url: null,\n            createdAt: now,\n            updatedAt: now\n        };\n        mem.bookings.set(id, rec);\n        return rec;\n    },\n    async createJob (input) {\n        const id = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID();\n        const now = new Date();\n        const rec = {\n            id,\n            publicId: randomPublicId(\"job\"),\n            status: input.status ?? \"NEW\",\n            title: input.title,\n            description: input.description ?? null,\n            internalNotes: input.internalNotes ?? null,\n            customerId: randomPublicId(\"cust\"),\n            addressId: randomPublicId(\"addr\"),\n            vehicleId: input.vehicle ? randomPublicId(\"veh\") : null,\n            quoteRequestId: null,\n            bookingId: null,\n            scheduledStart: null,\n            scheduledEnd: null,\n            createdAt: now,\n            updatedAt: now\n        };\n        mem.jobs.set(id, rec);\n        return rec;\n    },\n    async listJobs (limit) {\n        return Array.from(mem.jobs.values()).sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime()).slice(0, limit);\n    },\n    async updateJobStatus (where, input) {\n        const existing = mem.jobs.get(where.id);\n        if (!existing) throw new Error(\"Job not found\");\n        const updated = {\n            ...existing,\n            status: input.status,\n            updatedAt: new Date()\n        };\n        mem.jobs.set(where.id, updated);\n        return updated;\n    },\n    async getJobById (id) {\n        return mem.jobs.get(id) ?? null;\n    },\n    async createQuoteRequest (input) {\n        const id = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID();\n        const now = new Date();\n        const rec = {\n            id,\n            publicId: randomPublicId(\"qr\"),\n            status: \"NEW\",\n            category: input.category,\n            urgency: input.urgency,\n            customerId: randomPublicId(\"cust\"),\n            addressId: randomPublicId(\"addr\"),\n            vehicleId: randomPublicId(\"veh\"),\n            symptoms: input.symptoms,\n            description: input.description,\n            pricingSnapshotJson: input.pricingSnapshotJson,\n            serviceM8JobId: null,\n            serviceM8Url: null,\n            createdAt: now,\n            updatedAt: now\n        };\n        mem.quoteRequests.set(id, rec);\n        return rec;\n    },\n    async updateQuoteRequestStatus (where, input) {\n        const existing = mem.quoteRequests.get(where.id);\n        if (!existing) throw new Error(\"Quote request not found\");\n        const updated = {\n            ...existing,\n            status: input.status,\n            updatedAt: new Date()\n        };\n        mem.quoteRequests.set(where.id, updated);\n        return updated;\n    },\n    async listQuoteRequests (limit) {\n        return Array.from(mem.quoteRequests.values()).sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime()).slice(0, limit);\n    },\n    async updateBookingStatus (where, input) {\n        const existing = mem.bookings.get(where.id);\n        if (!existing) throw new Error(\"Booking not found\");\n        const updated = {\n            ...existing,\n            status: input.status,\n            updatedAt: new Date()\n        };\n        mem.bookings.set(where.id, updated);\n        return updated;\n    },\n    async updateBookingStripeSession (where, input) {\n        const existing = mem.bookings.get(where.id);\n        if (!existing) throw new Error(\"Booking not found\");\n        const updated = {\n            ...existing,\n            stripeSessionId: input.stripeSessionId,\n            updatedAt: new Date()\n        };\n        mem.bookings.set(where.id, updated);\n        return updated;\n    },\n    async getBookingById (id) {\n        return mem.bookings.get(id) ?? null;\n    },\n    async listBookings (limit) {\n        return Array.from(mem.bookings.values()).sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime()).slice(0, limit);\n    },\n    async expirePendingBookings (now) {\n        let count = 0;\n        for (const b of mem.bookings.values()){\n            if (b.status === \"PENDING_PAYMENT\" && b.paymentExpiresAt && b.paymentExpiresAt.getTime() <= now.getTime()) {\n                mem.bookings.set(b.id, {\n                    ...b,\n                    status: \"EXPIRED\",\n                    updatedAt: new Date()\n                });\n                count++;\n            }\n        }\n        return count;\n    },\n    async createIdempotencyKeyOnce (input) {\n        const k = idemMapKey(input.scope, input.key);\n        if (mem.idempotency.has(k)) return {\n            created: false\n        };\n        mem.idempotency.set(k, {\n            scope: input.scope,\n            key: input.key,\n            createdAt: new Date()\n        });\n        return {\n            created: true\n        };\n    },\n    async createOrGetServiceReportForBooking (input) {\n        const existing = Array.from(mem.serviceReports.values()).find((r)=>r.bookingId === input.bookingId && r.type === input.type);\n        if (existing) return existing;\n        const id = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID();\n        const now = new Date();\n        const rec = {\n            id,\n            bookingId: input.bookingId,\n            type: input.type,\n            status: \"DRAFT\",\n            dataJson: {\n                version: 1,\n                type: input.type,\n                title: input.type === \"DIAGNOSTICS\" ? \"Diagnostics Report\" : \"Pre-Purchase Inspection Report\",\n                summary: \"\",\n                contentMarkdown: \"\",\n                attachments: []\n            },\n            publicToken: randomPublicToken(),\n            emailedAt: null,\n            createdAt: now,\n            updatedAt: now\n        };\n        mem.serviceReports.set(id, rec);\n        return rec;\n    },\n    async updateServiceReportData (where, input) {\n        const existing = mem.serviceReports.get(where.id);\n        if (!existing) throw new Error(\"Service report not found\");\n        const updated = {\n            ...existing,\n            status: input.status ?? existing.status,\n            dataJson: input.dataJson,\n            updatedAt: new Date()\n        };\n        mem.serviceReports.set(where.id, updated);\n        return updated;\n    },\n    async markServiceReportEmailed (where, input) {\n        const existing = mem.serviceReports.get(where.id);\n        if (!existing) throw new Error(\"Service report not found\");\n        const updated = {\n            ...existing,\n            emailedAt: input.emailedAt,\n            updatedAt: new Date()\n        };\n        mem.serviceReports.set(where.id, updated);\n        return updated;\n    },\n    async getServiceReportByPublicToken (token) {\n        return Array.from(mem.serviceReports.values()).find((r)=>r.publicToken === token) ?? null;\n    }\n};\nconst prismaAdapter = {\n    async createDiagnosticsBooking (input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const booking = await prisma.$transaction(async (tx)=>{\n            const email = (input.customer.email ?? \"\").trim().toLowerCase() || null;\n            const phone = (input.customer.phone ?? \"\").trim() || null;\n            const existingCustomer = await tx.customer.findFirst({\n                where: {\n                    OR: [\n                        ...email ? [\n                            {\n                                email\n                            }\n                        ] : [],\n                        ...phone ? [\n                            {\n                                phone\n                            }\n                        ] : []\n                    ]\n                }\n            });\n            const customer = existingCustomer ?? await tx.customer.create({\n                data: {\n                    publicId: randomPublicId(\"cust\"),\n                    fullName: input.customer.fullName,\n                    email,\n                    phone\n                }\n            });\n            const address = await tx.address.create({\n                data: {\n                    publicId: randomPublicId(\"addr\"),\n                    customerId: customer.id,\n                    line1: input.address.line1,\n                    suburb: input.address.suburb,\n                    city: input.address.city,\n                    postcode: input.address.postcode ?? null,\n                    lat: input.address.lat ?? null,\n                    lng: input.address.lng ?? null,\n                    travelBand: input.address.travelBand ?? null\n                }\n            });\n            const vehicle = await tx.vehicle.create({\n                data: {\n                    publicId: randomPublicId(\"veh\"),\n                    customerId: customer.id,\n                    plate: input.vehicle.plate ?? null,\n                    make: input.vehicle.make ?? null,\n                    model: input.vehicle.model ?? null,\n                    year: input.vehicle.year ?? null,\n                    fuel: input.vehicle.fuel ?? null,\n                    odometer: input.vehicle.odometer ?? null\n                }\n            });\n            return tx.booking.create({\n                data: {\n                    publicId: randomPublicId(\"bk\"),\n                    kind: \"DIAGNOSTICS\",\n                    status: \"PENDING_PAYMENT\",\n                    customerId: customer.id,\n                    addressId: address.id,\n                    vehicleId: vehicle.id,\n                    slotStart: input.slotStart,\n                    slotEnd: input.slotEnd,\n                    afterHours: input.afterHours,\n                    symptomPreset: input.symptomPreset ?? null,\n                    notes: input.notes ?? null,\n                    pricingSnapshotJson: input.pricingSnapshotJson,\n                    paymentExpiresAt: input.paymentExpiresAt\n                }\n            });\n        });\n        return booking;\n    },\n    async createQuoteRequest (input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const quote = await prisma.$transaction(async (tx)=>{\n            const email = (input.customer.email ?? \"\").trim().toLowerCase() || null;\n            const phone = (input.customer.phone ?? \"\").trim() || null;\n            const existingCustomer = await tx.customer.findFirst({\n                where: {\n                    OR: [\n                        ...email ? [\n                            {\n                                email\n                            }\n                        ] : [],\n                        ...phone ? [\n                            {\n                                phone\n                            }\n                        ] : []\n                    ]\n                }\n            });\n            const customer = existingCustomer ?? await tx.customer.create({\n                data: {\n                    publicId: randomPublicId(\"cust\"),\n                    fullName: input.customer.fullName,\n                    email,\n                    phone\n                }\n            });\n            const address = await tx.address.create({\n                data: {\n                    publicId: randomPublicId(\"addr\"),\n                    customerId: customer.id,\n                    line1: input.address.line1,\n                    suburb: input.address.suburb,\n                    city: input.address.city,\n                    postcode: input.address.postcode ?? null,\n                    lat: input.address.lat ?? null,\n                    lng: input.address.lng ?? null,\n                    travelBand: input.address.travelBand ?? null\n                }\n            });\n            const vehicle = await tx.vehicle.create({\n                data: {\n                    publicId: randomPublicId(\"veh\"),\n                    customerId: customer.id,\n                    plate: input.vehicle.plate ?? null,\n                    make: input.vehicle.make ?? null,\n                    model: input.vehicle.model ?? null,\n                    year: input.vehicle.year ?? null,\n                    fuel: input.vehicle.fuel ?? null,\n                    odometer: input.vehicle.odometer ?? null\n                }\n            });\n            return tx.quoteRequest.create({\n                data: {\n                    publicId: randomPublicId(\"qr\"),\n                    status: \"NEW\",\n                    category: input.category,\n                    urgency: input.urgency,\n                    customerId: customer.id,\n                    addressId: address.id,\n                    vehicleId: vehicle.id,\n                    symptoms: input.symptoms,\n                    description: input.description,\n                    pricingSnapshotJson: input.pricingSnapshotJson\n                }\n            });\n        });\n        return quote;\n    },\n    async createJob (input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const job = await prisma.$transaction(async (tx)=>{\n            const email = (input.customer.email ?? \"\").trim().toLowerCase() || null;\n            const phone = (input.customer.phone ?? \"\").trim() || null;\n            const existingCustomer = await tx.customer.findFirst({\n                where: {\n                    OR: [\n                        ...email ? [\n                            {\n                                email\n                            }\n                        ] : [],\n                        ...phone ? [\n                            {\n                                phone\n                            }\n                        ] : []\n                    ]\n                }\n            });\n            const customer = existingCustomer ?? await tx.customer.create({\n                data: {\n                    publicId: randomPublicId(\"cust\"),\n                    fullName: input.customer.fullName,\n                    email,\n                    phone\n                }\n            });\n            const address = await tx.address.create({\n                data: {\n                    publicId: randomPublicId(\"addr\"),\n                    customerId: customer.id,\n                    line1: input.address.line1,\n                    suburb: input.address.suburb,\n                    city: input.address.city,\n                    postcode: input.address.postcode ?? null,\n                    lat: input.address.lat ?? null,\n                    lng: input.address.lng ?? null,\n                    travelBand: input.address.travelBand ?? null\n                }\n            });\n            const vehicle = input.vehicle ? await tx.vehicle.create({\n                data: {\n                    publicId: randomPublicId(\"veh\"),\n                    customerId: customer.id,\n                    plate: input.vehicle.plate ?? null,\n                    make: input.vehicle.make ?? null,\n                    model: input.vehicle.model ?? null,\n                    year: input.vehicle.year ?? null,\n                    fuel: input.vehicle.fuel ?? null,\n                    odometer: input.vehicle.odometer ?? null\n                }\n            }) : null;\n            return tx.job.create({\n                data: {\n                    publicId: randomPublicId(\"job\"),\n                    status: input.status ?? \"NEW\",\n                    title: input.title,\n                    description: input.description ?? null,\n                    internalNotes: input.internalNotes ?? null,\n                    customerId: customer.id,\n                    addressId: address.id,\n                    vehicleId: vehicle?.id ?? null\n                }\n            });\n        });\n        return job;\n    },\n    async listJobs (limit) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const rows = await prisma.job.findMany({\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            take: limit\n        });\n        return rows;\n    },\n    async updateJobStatus (where, input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const job = await prisma.job.update({\n            where: {\n                id: where.id\n            },\n            data: {\n                status: input.status\n            }\n        });\n        return job;\n    },\n    async getJobById (id) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        return await prisma.job.findUnique({\n            where: {\n                id\n            }\n        });\n    },\n    async updateQuoteRequestStatus (where, input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const quote = await prisma.quoteRequest.update({\n            where: {\n                id: where.id\n            },\n            data: {\n                status: input.status\n            }\n        });\n        return quote;\n    },\n    async listQuoteRequests (limit) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const rows = await prisma.quoteRequest.findMany({\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            take: limit\n        });\n        return rows;\n    },\n    async updateBookingStatus (where, input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const booking = await prisma.booking.update({\n            where: {\n                id: where.id\n            },\n            data: {\n                status: input.status\n            }\n        });\n        return booking;\n    },\n    async updateBookingStripeSession (where, input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const booking = await prisma.booking.update({\n            where: {\n                id: where.id\n            },\n            data: {\n                stripeSessionId: input.stripeSessionId\n            }\n        });\n        return booking;\n    },\n    async getBookingById (id) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        return await prisma.booking.findUnique({\n            where: {\n                id\n            }\n        });\n    },\n    async listBookings (limit) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        return await prisma.booking.findMany({\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            take: limit\n        });\n    },\n    async expirePendingBookings (now) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const res = await prisma.booking.updateMany({\n            where: {\n                status: \"PENDING_PAYMENT\",\n                paymentExpiresAt: {\n                    lte: now\n                }\n            },\n            data: {\n                status: \"EXPIRED\"\n            }\n        });\n        return res.count;\n    },\n    async createIdempotencyKeyOnce (input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        try {\n            await prisma.idempotencyKey.create({\n                data: {\n                    scope: input.scope,\n                    key: input.key,\n                    requestHash: input.requestHash ?? null,\n                    responseJson: input.responseJson ?? null\n                }\n            });\n            return {\n                created: true\n            };\n        } catch  {\n            return {\n                created: false\n            };\n        }\n    },\n    async createOrGetServiceReportForBooking (input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const existing = await prisma.serviceReport.findFirst({\n            where: {\n                bookingId: input.bookingId,\n                type: input.type\n            }\n        });\n        if (existing) return existing;\n        const dataJson = {\n            version: 1,\n            type: input.type,\n            title: input.type === \"DIAGNOSTICS\" ? \"Diagnostics Report\" : \"Pre-Purchase Inspection Report\",\n            summary: \"\",\n            contentMarkdown: \"\",\n            attachments: []\n        };\n        const created = await prisma.serviceReport.create({\n            data: {\n                bookingId: input.bookingId,\n                type: input.type,\n                status: \"DRAFT\",\n                dataJson,\n                publicToken: randomPublicToken()\n            }\n        });\n        return created;\n    },\n    async updateServiceReportData (where, input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const updated = await prisma.serviceReport.update({\n            where: {\n                id: where.id\n            },\n            data: {\n                status: input.status,\n                dataJson: input.dataJson\n            }\n        });\n        return updated;\n    },\n    async markServiceReportEmailed (where, input) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        const updated = await prisma.serviceReport.update({\n            where: {\n                id: where.id\n            },\n            data: {\n                emailedAt: input.emailedAt\n            }\n        });\n        return updated;\n    },\n    async getServiceReportByPublicToken (token) {\n        const { prisma } = await __webpack_require__.e(/*! import() */ \"_rsc_src_server_prisma_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/prisma */ \"(rsc)/./src/server/prisma.ts\"));\n        return await prisma.serviceReport.findUnique({\n            where: {\n                publicToken: token\n            }\n        });\n    }\n};\nfunction db() {\n    return isDevNoDb() ? memoryAdapter : prismaAdapter;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ1IsTUFBTSxDQUFDO1lBQ3pEdkUsT0FBTztnQkFBRTNHLElBQUkyRyxNQUFNM0csRUFBRTtZQUFDO1lBQ3RCMkosTUFBTTtnQkFDSnJGLFFBQVFMLE1BQU1LLE1BQU07Z0JBQ3BCOEQsVUFBVW5FLE1BQU1tRSxRQUFRO1lBQzFCO1FBQ0Y7UUFDQSxPQUFPdEI7SUFDVDtJQUVBLE1BQU04QiwwQkFBeUJqQyxLQUFLLEVBQUUxQyxLQUFLO1FBQ3pDLE1BQU0sRUFBRTFCLE1BQU0sRUFBRSxHQUFHLE1BQU0sNktBQXlCO1FBQ2xELE1BQU11RSxVQUFVLE1BQU0sT0FBZ0I0RSxhQUFhLENBQUNSLE1BQU0sQ0FBQztZQUN6RHZFLE9BQU87Z0JBQUUzRyxJQUFJMkcsTUFBTTNHLEVBQUU7WUFBQztZQUN0QjJKLE1BQU07Z0JBQUVqQixXQUFXekUsTUFBTXlFLFNBQVM7WUFBQztRQUNyQztRQUNBLE9BQU81QjtJQUNUO0lBRUEsTUFBTStCLCtCQUE4QkMsS0FBSztRQUN2QyxNQUFNLEVBQUV2RyxNQUFNLEVBQUUsR0FBRyxNQUFNLDZLQUF5QjtRQUNsRCxPQUFRLE1BQU0sT0FBZ0JtSixhQUFhLENBQUNQLFVBQVUsQ0FBQztZQUFFeEUsT0FBTztnQkFBRThCLGFBQWFLO1lBQU07UUFBRTtJQUN6RjtBQUNGO0FBRU8sU0FBUzZDO0lBQ2QsT0FBTzNKLGNBQWMrQixnQkFBZ0JnRjtBQUN2QyIsInNvdXJjZXMiOlsiQzpcXG56bW9iaWxlYXV0b3NcXG5leHRcXHNyY1xcc2VydmVyXFxkYi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcblxuZXhwb3J0IHR5cGUgQm9va2luZ0tpbmQgPSBcIkRJQUdOT1NUSUNTXCI7XG5leHBvcnQgdHlwZSBCb29raW5nU3RhdHVzID0gXCJORVdcIiB8IFwiUEVORElOR19QQVlNRU5UXCIgfCBcIkNPTkZJUk1FRFwiIHwgXCJDQU5DRUxMRURcIiB8IFwiRVhQSVJFRFwiIHwgXCJJTl9QUk9HUkVTU1wiIHwgXCJDT01QTEVURURcIjtcblxuZXhwb3J0IHR5cGUgUXVvdGVDYXRlZ29yeSA9IFwiQlJBS0VTXCIgfCBcIldPRl9SRVBBSVJTXCIgfCBcIlNFUlZJQ0lOR1wiIHwgXCJPVEhFUlwiO1xuZXhwb3J0IHR5cGUgUXVvdGVVcmdlbmN5ID0gXCJUT0RBWVwiIHwgXCJUSElTX1dFRUtcIiB8IFwiRkxFWElCTEVcIjtcbmV4cG9ydCB0eXBlIFF1b3RlUmVxdWVzdFN0YXR1cyA9IFwiTkVXXCIgfCBcIkNPTlRBQ1RFRFwiIHwgXCJCT09LRURcIiB8IFwiSU5fUFJPR1JFU1NcIiB8IFwiQ09NUExFVEVEXCIgfCBcIkNMT1NFRFwiO1xuXG5leHBvcnQgdHlwZSBKb2JTdGF0dXMgPSBcIk5FV1wiIHwgXCJORUVEU19RVU9URVwiIHwgXCJRVU9URURcIiB8IFwiU0NIRURVTEVEXCIgfCBcIklOX1BST0dSRVNTXCIgfCBcIkNPTVBMRVRFRFwiIHwgXCJDQU5DRUxMRURcIjtcblxuZXhwb3J0IHR5cGUgU2VydmljZVJlcG9ydFR5cGUgPSBcIkRJQUdOT1NUSUNTXCIgfCBcIlBQSVwiO1xuZXhwb3J0IHR5cGUgU2VydmljZVJlcG9ydFN0YXR1cyA9IFwiRFJBRlRcIiB8IFwiRklOQUxcIjtcblxuZXhwb3J0IHR5cGUgU2VydmljZVJlcG9ydFJlY29yZCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgYm9va2luZ0lkOiBzdHJpbmc7XG4gIHR5cGU6IFNlcnZpY2VSZXBvcnRUeXBlO1xuICBzdGF0dXM6IFNlcnZpY2VSZXBvcnRTdGF0dXM7XG4gIGRhdGFKc29uOiBhbnk7XG4gIHB1YmxpY1Rva2VuOiBzdHJpbmc7XG4gIGVtYWlsZWRBdDogRGF0ZSB8IG51bGw7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufTtcblxuZXhwb3J0IHR5cGUgSm9iUmVjb3JkID0ge1xuICBpZDogc3RyaW5nO1xuICBwdWJsaWNJZDogc3RyaW5nO1xuICBzdGF0dXM6IEpvYlN0YXR1cztcblxuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgaW50ZXJuYWxOb3Rlczogc3RyaW5nIHwgbnVsbDtcblxuICBjdXN0b21lcklkOiBzdHJpbmc7XG4gIGFkZHJlc3NJZDogc3RyaW5nO1xuICB2ZWhpY2xlSWQ6IHN0cmluZyB8IG51bGw7XG5cbiAgcXVvdGVSZXF1ZXN0SWQ6IHN0cmluZyB8IG51bGw7XG4gIGJvb2tpbmdJZDogc3RyaW5nIHwgbnVsbDtcblxuICBzY2hlZHVsZWRTdGFydDogRGF0ZSB8IG51bGw7XG4gIHNjaGVkdWxlZEVuZDogRGF0ZSB8IG51bGw7XG5cbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG59O1xuXG5leHBvcnQgdHlwZSBCb29raW5nUmVjb3JkID0ge1xuICBpZDogc3RyaW5nO1xuICBwdWJsaWNJZDogc3RyaW5nO1xuICBraW5kOiBCb29raW5nS2luZDtcbiAgc3RhdHVzOiBCb29raW5nU3RhdHVzO1xuXG4gIGN1c3RvbWVySWQ6IHN0cmluZztcbiAgYWRkcmVzc0lkOiBzdHJpbmc7XG4gIHZlaGljbGVJZDogc3RyaW5nIHwgbnVsbDtcblxuICBzbG90U3RhcnQ6IERhdGU7XG4gIHNsb3RFbmQ6IERhdGU7XG4gIGFmdGVySG91cnM6IGJvb2xlYW47XG5cbiAgc3ltcHRvbVByZXNldDogc3RyaW5nIHwgbnVsbDtcbiAgbm90ZXM6IHN0cmluZyB8IG51bGw7XG5cbiAgcHJpY2luZ1NuYXBzaG90SnNvbjogYW55O1xuXG4gIHN0cmlwZVNlc3Npb25JZDogc3RyaW5nIHwgbnVsbDtcbiAgcGF5bWVudEV4cGlyZXNBdDogRGF0ZSB8IG51bGw7XG5cbiAgc2VydmljZU04Sm9iSWQ6IHN0cmluZyB8IG51bGw7XG4gIHNlcnZpY2VNOFVybDogc3RyaW5nIHwgbnVsbDtcblxuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbn07XG5cbmV4cG9ydCB0eXBlIFF1b3RlUmVxdWVzdFJlY29yZCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgcHVibGljSWQ6IHN0cmluZztcbiAgc3RhdHVzOiBRdW90ZVJlcXVlc3RTdGF0dXM7XG4gIGNhdGVnb3J5OiBRdW90ZUNhdGVnb3J5O1xuICB1cmdlbmN5OiBRdW90ZVVyZ2VuY3k7XG5cbiAgY3VzdG9tZXJJZDogc3RyaW5nO1xuICBhZGRyZXNzSWQ6IHN0cmluZztcbiAgdmVoaWNsZUlkOiBzdHJpbmcgfCBudWxsO1xuXG4gIHN5bXB0b21zOiBhbnk7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsO1xuICBwcmljaW5nU25hcHNob3RKc29uOiBhbnk7XG5cbiAgc2VydmljZU04Sm9iSWQ6IHN0cmluZyB8IG51bGw7XG4gIHNlcnZpY2VNOFVybDogc3RyaW5nIHwgbnVsbDtcblxuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbn07XG5cbmV4cG9ydCB0eXBlIENyZWF0ZURpYWdub3N0aWNzQm9va2luZ0lucHV0ID0ge1xuICBjdXN0b21lcjoge1xuICAgIGZ1bGxOYW1lOiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmcgfCBudWxsO1xuICAgIHBob25lPzogc3RyaW5nIHwgbnVsbDtcbiAgfTtcbiAgYWRkcmVzczoge1xuICAgIGxpbmUxOiBzdHJpbmc7XG4gICAgc3VidXJiOiBzdHJpbmc7XG4gICAgY2l0eTogc3RyaW5nO1xuICAgIHBvc3Rjb2RlPzogc3RyaW5nIHwgbnVsbDtcbiAgICBsYXQ/OiBudW1iZXIgfCBudWxsO1xuICAgIGxuZz86IG51bWJlciB8IG51bGw7XG4gICAgdHJhdmVsQmFuZD86IHN0cmluZyB8IG51bGw7XG4gIH07XG4gIHZlaGljbGU6IHtcbiAgICBwbGF0ZT86IHN0cmluZyB8IG51bGw7XG4gICAgbWFrZT86IHN0cmluZyB8IG51bGw7XG4gICAgbW9kZWw/OiBzdHJpbmcgfCBudWxsO1xuICAgIHllYXI/OiBudW1iZXIgfCBudWxsO1xuICAgIGZ1ZWw/OiBzdHJpbmcgfCBudWxsO1xuICAgIG9kb21ldGVyPzogc3RyaW5nIHwgbnVsbDtcbiAgfTtcbiAgc2xvdFN0YXJ0OiBEYXRlO1xuICBzbG90RW5kOiBEYXRlO1xuICBhZnRlckhvdXJzOiBib29sZWFuO1xuICBzeW1wdG9tUHJlc2V0Pzogc3RyaW5nIHwgbnVsbDtcbiAgbm90ZXM/OiBzdHJpbmcgfCBudWxsO1xuICBwcmljaW5nU25hcHNob3RKc29uOiBhbnk7XG4gIHBheW1lbnRFeHBpcmVzQXQ6IERhdGUgfCBudWxsO1xufTtcblxuZXhwb3J0IHR5cGUgQ3JlYXRlUXVvdGVSZXF1ZXN0SW5wdXQgPSB7XG4gIGNhdGVnb3J5OiBRdW90ZUNhdGVnb3J5O1xuICB1cmdlbmN5OiBRdW90ZVVyZ2VuY3k7XG4gIGN1c3RvbWVyOiB7XG4gICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICBlbWFpbD86IHN0cmluZyB8IG51bGw7XG4gICAgcGhvbmU/OiBzdHJpbmcgfCBudWxsO1xuICB9O1xuICBhZGRyZXNzOiB7XG4gICAgbGluZTE6IHN0cmluZztcbiAgICBzdWJ1cmI6IHN0cmluZztcbiAgICBjaXR5OiBzdHJpbmc7XG4gICAgcG9zdGNvZGU/OiBzdHJpbmcgfCBudWxsO1xuICAgIGxhdD86IG51bWJlciB8IG51bGw7XG4gICAgbG5nPzogbnVtYmVyIHwgbnVsbDtcbiAgICB0cmF2ZWxCYW5kPzogc3RyaW5nIHwgbnVsbDtcbiAgfTtcbiAgdmVoaWNsZToge1xuICAgIHBsYXRlPzogc3RyaW5nIHwgbnVsbDtcbiAgICBtYWtlPzogc3RyaW5nIHwgbnVsbDtcbiAgICBtb2RlbD86IHN0cmluZyB8IG51bGw7XG4gICAgeWVhcj86IG51bWJlciB8IG51bGw7XG4gICAgZnVlbD86IHN0cmluZyB8IG51bGw7XG4gICAgb2RvbWV0ZXI/OiBzdHJpbmcgfCBudWxsO1xuICB9O1xuICBzeW1wdG9tczogc3RyaW5nW107XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHByaWNpbmdTbmFwc2hvdEpzb246IGFueTtcbn07XG5cbmV4cG9ydCB0eXBlIENyZWF0ZUpvYklucHV0ID0ge1xuICBzdGF0dXM/OiBKb2JTdGF0dXMgfCBudWxsO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7XG4gIGludGVybmFsTm90ZXM/OiBzdHJpbmcgfCBudWxsO1xuICBjdXN0b21lcjoge1xuICAgIGZ1bGxOYW1lOiBzdHJpbmc7XG4gICAgZW1haWw/OiBzdHJpbmcgfCBudWxsO1xuICAgIHBob25lPzogc3RyaW5nIHwgbnVsbDtcbiAgfTtcbiAgYWRkcmVzczoge1xuICAgIGxpbmUxOiBzdHJpbmc7XG4gICAgc3VidXJiOiBzdHJpbmc7XG4gICAgY2l0eTogc3RyaW5nO1xuICAgIHBvc3Rjb2RlPzogc3RyaW5nIHwgbnVsbDtcbiAgICBsYXQ/OiBudW1iZXIgfCBudWxsO1xuICAgIGxuZz86IG51bWJlciB8IG51bGw7XG4gICAgdHJhdmVsQmFuZD86IHN0cmluZyB8IG51bGw7XG4gIH07XG4gIHZlaGljbGU/OiB7XG4gICAgcGxhdGU/OiBzdHJpbmcgfCBudWxsO1xuICAgIG1ha2U/OiBzdHJpbmcgfCBudWxsO1xuICAgIG1vZGVsPzogc3RyaW5nIHwgbnVsbDtcbiAgICB5ZWFyPzogbnVtYmVyIHwgbnVsbDtcbiAgICBmdWVsPzogc3RyaW5nIHwgbnVsbDtcbiAgICBvZG9tZXRlcj86IHN0cmluZyB8IG51bGw7XG4gIH0gfCBudWxsO1xufTtcblxuZnVuY3Rpb24gcmFuZG9tUHVibGljSWQocHJlZml4OiBzdHJpbmcpIHtcbiAgLy8gVVJMLXNhZmUgc2hvcnQgaWQ6IDEwIGNoYXJzIGFwcHJveCAoYmFzZTY0dXJsKVxuICBjb25zdCBpZCA9IGNyeXB0by5yYW5kb21CeXRlcyg4KS50b1N0cmluZyhcImJhc2U2NHVybFwiKTtcbiAgcmV0dXJuIGAke3ByZWZpeH1fJHtpZH1gO1xufVxuXG5mdW5jdGlvbiBoYXNEYkVudigpIHtcbiAgcmV0dXJuIEJvb2xlYW4ocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMKTtcbn1cblxuZXhwb3J0IHR5cGUgRGJIZWFsdGhSZXN1bHQgPSB7XG4gIG9rOiBib29sZWFuO1xuICBsYXRlbmN5TXM6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY2xhc3MgRGJVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICByZWFkb25seSBjb2RlID0gXCJEQl9VTkFWQUlMQUJMRVwiO1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBcIkRiVW5hdmFpbGFibGVFcnJvclwiO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNsZWVwKG1zOiBudW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59XG5cbmZ1bmN0aW9uIGlzTGlrZWx5RGJDb25uZWN0aXZpdHlFcnJvcihlcnI6IHVua25vd24pIHtcbiAgY29uc3QgbXNnID0gU3RyaW5nKChlcnIgYXMgYW55KT8ubWVzc2FnZSB8fCBcIlwiKTtcbiAgY29uc3QgY29kZSA9IFN0cmluZygoZXJyIGFzIGFueSk/LmNvZGUgfHwgXCJcIik7XG5cbiAgLy8gUHJpc21hICsgUG9zdGdyZXMgY29ubmVjdGl2aXR5IGZhaWx1cmVzIGNvbW1vbmx5IHNob3cgYXM6XG4gIC8vIC0gUDEwMDEgLyBQMTAwMlxuICAvLyAtIFwiQ2FuJ3QgcmVhY2ggZGF0YWJhc2Ugc2VydmVyXCJcbiAgLy8gLSBcIkVDT05OUkVGVVNFRFwiIC8gXCJFVElNRURPVVRcIiAvIFwiRU5PVEZPVU5EXCJcbiAgcmV0dXJuIChcbiAgICBjb2RlID09PSBcIlAxMDAxXCIgfHxcbiAgICBjb2RlID09PSBcIlAxMDAyXCIgfHxcbiAgICBtc2cudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImNhbid0IHJlYWNoIGRhdGFiYXNlIHNlcnZlclwiKSB8fFxuICAgIG1zZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiY2FudCByZWFjaCBkYXRhYmFzZSBzZXJ2ZXJcIikgfHxcbiAgICBtc2cudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVjb25ucmVmdXNlZFwiKSB8fFxuICAgIG1zZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZXRpbWVkb3V0XCIpIHx8XG4gICAgbXNnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJlbm90Zm91bmRcIikgfHxcbiAgICBtc2cudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImNvbm5lY3Rpb24gdGVybWluYXRlZFwiKVxuICApO1xufVxuXG5hc3luYyBmdW5jdGlvbiB3aXRoRGJSZXRyaWVzPFQ+KGZuOiAoKSA9PiBQcm9taXNlPFQ+KTogUHJvbWlzZTxUPiB7XG4gIC8vIFNob3J0LCBib3VuZGVkIHJldHJ5IHdpdGggaml0dGVyLWxpa2UgaW5jcmVhc2luZyBkZWxheXMuXG4gIGNvbnN0IGRlbGF5cyA9IFswLCAxMjAsIDMwMF07XG4gIGxldCBsYXN0RXJyOiB1bmtub3duO1xuICBmb3IgKGxldCBhdHRlbXB0ID0gMDsgYXR0ZW1wdCA8IGRlbGF5cy5sZW5ndGg7IGF0dGVtcHQrKykge1xuICAgIGlmIChkZWxheXNbYXR0ZW1wdF0gPiAwKSBhd2FpdCBzbGVlcChkZWxheXNbYXR0ZW1wdF0pO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxhc3RFcnIgPSBlcnI7XG4gICAgICBpZiAoIWlzTGlrZWx5RGJDb25uZWN0aXZpdHlFcnJvcihlcnIpIHx8IGF0dGVtcHQgPT09IGRlbGF5cy5sZW5ndGggLSAxKSB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG4gIHRocm93IGxhc3RFcnI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYkhlYWx0aENoZWNrKCk6IFByb21pc2U8RGJIZWFsdGhSZXN1bHQ+IHtcbiAgaWYgKGlzRGV2Tm9EYigpKSByZXR1cm4geyBvazogdHJ1ZSwgbGF0ZW5jeU1zOiAwIH07XG4gIGlmICghaGFzRGJFbnYoKSkgcmV0dXJuIHsgb2s6IGZhbHNlLCBsYXRlbmN5TXM6IDAsIGVycm9yOiBcIk1pc3NpbmcgREFUQUJBU0VfVVJMXCIgfTtcblxuICBjb25zdCBzdGFydGVkID0gRGF0ZS5ub3coKTtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHByaXNtYSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9zZXJ2ZXIvcHJpc21hXCIpO1xuXG4gICAgY29uc3QgdGltZW91dE1zID0gTnVtYmVyKHByb2Nlc3MuZW52LkRCX0hFQUxUSENIRUNLX1RJTUVPVVRfTVMgfHwgXCIxMjAwXCIpIHx8IDEyMDA7XG4gICAgYXdhaXQgd2l0aERiUmV0cmllcyhhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICBwcmlzbWEuJHF1ZXJ5UmF3YFNFTEVDVCAxYCxcbiAgICAgICAgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4gc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKFwiREIgaGVhbHRoY2hlY2sgdGltZW91dFwiKSksIHRpbWVvdXRNcykpLFxuICAgICAgXSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyBvazogdHJ1ZSwgbGF0ZW5jeU1zOiBEYXRlLm5vdygpIC0gc3RhcnRlZCB9O1xuICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgIGNvbnN0IG1zZyA9IFN0cmluZyhlcnI/Lm1lc3NhZ2UgfHwgXCJEQiBoZWFsdGhjaGVjayBmYWlsZWRcIik7XG4gICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBsYXRlbmN5TXM6IERhdGUubm93KCkgLSBzdGFydGVkLCBlcnJvcjogbXNnIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2VydERiSGVhbHRoeU9yVGhyb3coKSB7XG4gIGNvbnN0IGhlYWx0aCA9IGF3YWl0IGRiSGVhbHRoQ2hlY2soKTtcbiAgaWYgKCFoZWFsdGgub2spIHtcbiAgICB0aHJvdyBuZXcgRGJVbmF2YWlsYWJsZUVycm9yKGhlYWx0aC5lcnJvciB8fCBcIkRhdGFiYXNlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZVwiKTtcbiAgfVxuICByZXR1cm4gaGVhbHRoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZXZOb0RiKCkge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuREVWX05PX0RCID09PSBcInRydWVcIiB8fCAhaGFzRGJFbnYoKTtcbn1cblxudHlwZSBEYkFkYXB0ZXIgPSB7XG4gIGNyZWF0ZURpYWdub3N0aWNzQm9va2luZyhpbnB1dDogQ3JlYXRlRGlhZ25vc3RpY3NCb29raW5nSW5wdXQpOiBQcm9taXNlPEJvb2tpbmdSZWNvcmQ+O1xuICBjcmVhdGVRdW90ZVJlcXVlc3QoaW5wdXQ6IENyZWF0ZVF1b3RlUmVxdWVzdElucHV0KTogUHJvbWlzZTxRdW90ZVJlcXVlc3RSZWNvcmQ+O1xuICBjcmVhdGVKb2IoaW5wdXQ6IENyZWF0ZUpvYklucHV0KTogUHJvbWlzZTxKb2JSZWNvcmQ+O1xuICBsaXN0Sm9icyhsaW1pdDogbnVtYmVyKTogUHJvbWlzZTxKb2JSZWNvcmRbXT47XG4gIHVwZGF0ZUpvYlN0YXR1cyh3aGVyZTogeyBpZDogc3RyaW5nIH0sIGlucHV0OiB7IHN0YXR1czogSm9iU3RhdHVzIH0pOiBQcm9taXNlPEpvYlJlY29yZD47XG4gIGdldEpvYkJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8Sm9iUmVjb3JkIHwgbnVsbD47XG4gIHVwZGF0ZVF1b3RlUmVxdWVzdFN0YXR1cyh3aGVyZTogeyBpZDogc3RyaW5nIH0sIGlucHV0OiB7IHN0YXR1czogUXVvdGVSZXF1ZXN0U3RhdHVzIH0pOiBQcm9taXNlPFF1b3RlUmVxdWVzdFJlY29yZD47XG4gIHVwZGF0ZUJvb2tpbmdTdHJpcGVTZXNzaW9uKHdoZXJlOiB7IGlkOiBzdHJpbmcgfSwgaW5wdXQ6IHsgc3RyaXBlU2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsIH0pOiBQcm9taXNlPEJvb2tpbmdSZWNvcmQ+O1xuICB1cGRhdGVCb29raW5nU3RhdHVzKHdoZXJlOiB7IGlkOiBzdHJpbmcgfSwgaW5wdXQ6IHsgc3RhdHVzOiBCb29raW5nU3RhdHVzIH0pOiBQcm9taXNlPEJvb2tpbmdSZWNvcmQ+O1xuICBnZXRCb29raW5nQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxCb29raW5nUmVjb3JkIHwgbnVsbD47XG4gIGxpc3RCb29raW5ncyhsaW1pdDogbnVtYmVyKTogUHJvbWlzZTxCb29raW5nUmVjb3JkW10+O1xuICBsaXN0UXVvdGVSZXF1ZXN0cyhsaW1pdDogbnVtYmVyKTogUHJvbWlzZTxRdW90ZVJlcXVlc3RSZWNvcmRbXT47XG4gIGV4cGlyZVBlbmRpbmdCb29raW5ncyhub3c6IERhdGUpOiBQcm9taXNlPG51bWJlcj47XG4gIGNyZWF0ZUlkZW1wb3RlbmN5S2V5T25jZShpbnB1dDoge1xuICAgIHNjb3BlOiBzdHJpbmc7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgcmVxdWVzdEhhc2g/OiBzdHJpbmcgfCBudWxsO1xuICAgIHJlc3BvbnNlSnNvbj86IGFueTtcbiAgfSk6IFByb21pc2U8eyBjcmVhdGVkOiBib29sZWFuIH0+O1xuXG4gIGNyZWF0ZU9yR2V0U2VydmljZVJlcG9ydEZvckJvb2tpbmcoaW5wdXQ6IHsgYm9va2luZ0lkOiBzdHJpbmc7IHR5cGU6IFNlcnZpY2VSZXBvcnRUeXBlIH0pOiBQcm9taXNlPFNlcnZpY2VSZXBvcnRSZWNvcmQ+O1xuICB1cGRhdGVTZXJ2aWNlUmVwb3J0RGF0YSh3aGVyZTogeyBpZDogc3RyaW5nIH0sIGlucHV0OiB7IHN0YXR1cz86IFNlcnZpY2VSZXBvcnRTdGF0dXM7IGRhdGFKc29uOiBhbnkgfSk6IFByb21pc2U8U2VydmljZVJlcG9ydFJlY29yZD47XG4gIG1hcmtTZXJ2aWNlUmVwb3J0RW1haWxlZCh3aGVyZTogeyBpZDogc3RyaW5nIH0sIGlucHV0OiB7IGVtYWlsZWRBdDogRGF0ZSB9KTogUHJvbWlzZTxTZXJ2aWNlUmVwb3J0UmVjb3JkPjtcbiAgZ2V0U2VydmljZVJlcG9ydEJ5UHVibGljVG9rZW4odG9rZW46IHN0cmluZyk6IFByb21pc2U8U2VydmljZVJlcG9ydFJlY29yZCB8IG51bGw+O1xufTtcblxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gIHZhciBfX2Rldk5vRGJTdG9yZTpcbiAgICB8IHtcbiAgICAgICAgYm9va2luZ3M6IE1hcDxzdHJpbmcsIEJvb2tpbmdSZWNvcmQ+O1xuICAgICAgICBxdW90ZVJlcXVlc3RzOiBNYXA8c3RyaW5nLCBRdW90ZVJlcXVlc3RSZWNvcmQ+O1xuICAgICAgICBqb2JzOiBNYXA8c3RyaW5nLCBKb2JSZWNvcmQ+O1xuICAgICAgICBzZXJ2aWNlUmVwb3J0czogTWFwPHN0cmluZywgU2VydmljZVJlcG9ydFJlY29yZD47XG4gICAgICAgIGlkZW1wb3RlbmN5OiBNYXA8c3RyaW5nLCB7IHNjb3BlOiBzdHJpbmc7IGtleTogc3RyaW5nOyBjcmVhdGVkQXQ6IERhdGUgfT47XG4gICAgICB9XG4gICAgfCB1bmRlZmluZWQ7XG59XG5cbmNvbnN0IG1lbSA9XG4gIGdsb2JhbC5fX2Rldk5vRGJTdG9yZSB8fFxuICAoZ2xvYmFsLl9fZGV2Tm9EYlN0b3JlID0ge1xuICAgIGJvb2tpbmdzOiBuZXcgTWFwPHN0cmluZywgQm9va2luZ1JlY29yZD4oKSxcbiAgICBxdW90ZVJlcXVlc3RzOiBuZXcgTWFwPHN0cmluZywgUXVvdGVSZXF1ZXN0UmVjb3JkPigpLFxuICAgIGpvYnM6IG5ldyBNYXA8c3RyaW5nLCBKb2JSZWNvcmQ+KCksXG4gICAgc2VydmljZVJlcG9ydHM6IG5ldyBNYXA8c3RyaW5nLCBTZXJ2aWNlUmVwb3J0UmVjb3JkPigpLFxuICAgIGlkZW1wb3RlbmN5OiBuZXcgTWFwPHN0cmluZywgeyBzY29wZTogc3RyaW5nOyBrZXk6IHN0cmluZzsgY3JlYXRlZEF0OiBEYXRlIH0+KCksXG4gIH0pO1xuXG5mdW5jdGlvbiBpZGVtTWFwS2V5KHNjb3BlOiBzdHJpbmcsIGtleTogc3RyaW5nKSB7XG4gIHJldHVybiBgJHtzY29wZX06JHtrZXl9YDtcbn1cblxuZnVuY3Rpb24gcmFuZG9tUHVibGljVG9rZW4oKSB7XG4gIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoMjQpLnRvU3RyaW5nKFwiYmFzZTY0dXJsXCIpO1xufVxuXG5jb25zdCBtZW1vcnlBZGFwdGVyOiBEYkFkYXB0ZXIgPSB7XG4gIGFzeW5jIGNyZWF0ZURpYWdub3N0aWNzQm9va2luZyhpbnB1dCkge1xuICAgIGNvbnN0IGlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHJlYzogQm9va2luZ1JlY29yZCA9IHtcbiAgICAgIGlkLFxuICAgICAgcHVibGljSWQ6IHJhbmRvbVB1YmxpY0lkKFwiYmtcIiksXG4gICAgICBraW5kOiBcIkRJQUdOT1NUSUNTXCIsXG4gICAgICBzdGF0dXM6IFwiUEVORElOR19QQVlNRU5UXCIsXG5cbiAgICAgIGN1c3RvbWVySWQ6IHJhbmRvbVB1YmxpY0lkKFwiY3VzdFwiKSxcbiAgICAgIGFkZHJlc3NJZDogcmFuZG9tUHVibGljSWQoXCJhZGRyXCIpLFxuICAgICAgdmVoaWNsZUlkOiByYW5kb21QdWJsaWNJZChcInZlaFwiKSxcblxuICAgICAgc2xvdFN0YXJ0OiBpbnB1dC5zbG90U3RhcnQsXG4gICAgICBzbG90RW5kOiBpbnB1dC5zbG90RW5kLFxuICAgICAgYWZ0ZXJIb3VyczogaW5wdXQuYWZ0ZXJIb3VycyxcblxuICAgICAgc3ltcHRvbVByZXNldDogaW5wdXQuc3ltcHRvbVByZXNldCA/PyBudWxsLFxuICAgICAgbm90ZXM6IGlucHV0Lm5vdGVzID8/IG51bGwsXG5cbiAgICAgIHByaWNpbmdTbmFwc2hvdEpzb246IGlucHV0LnByaWNpbmdTbmFwc2hvdEpzb24sXG5cbiAgICAgIHN0cmlwZVNlc3Npb25JZDogbnVsbCxcbiAgICAgIHBheW1lbnRFeHBpcmVzQXQ6IGlucHV0LnBheW1lbnRFeHBpcmVzQXQsXG5cbiAgICAgIHNlcnZpY2VNOEpvYklkOiBudWxsLFxuICAgICAgc2VydmljZU04VXJsOiBudWxsLFxuXG4gICAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICAgIHVwZGF0ZWRBdDogbm93LFxuICAgIH07XG4gICAgbWVtLmJvb2tpbmdzLnNldChpZCwgcmVjKTtcbiAgICByZXR1cm4gcmVjO1xuICB9LFxuXG4gIGFzeW5jIGNyZWF0ZUpvYihpbnB1dCkge1xuICAgIGNvbnN0IGlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHJlYzogSm9iUmVjb3JkID0ge1xuICAgICAgaWQsXG4gICAgICBwdWJsaWNJZDogcmFuZG9tUHVibGljSWQoXCJqb2JcIiksXG4gICAgICBzdGF0dXM6IChpbnB1dC5zdGF0dXMgPz8gXCJORVdcIikgYXMgYW55LFxuICAgICAgdGl0bGU6IGlucHV0LnRpdGxlLFxuICAgICAgZGVzY3JpcHRpb246IGlucHV0LmRlc2NyaXB0aW9uID8/IG51bGwsXG4gICAgICBpbnRlcm5hbE5vdGVzOiBpbnB1dC5pbnRlcm5hbE5vdGVzID8/IG51bGwsXG4gICAgICBjdXN0b21lcklkOiByYW5kb21QdWJsaWNJZChcImN1c3RcIiksXG4gICAgICBhZGRyZXNzSWQ6IHJhbmRvbVB1YmxpY0lkKFwiYWRkclwiKSxcbiAgICAgIHZlaGljbGVJZDogaW5wdXQudmVoaWNsZSA/IHJhbmRvbVB1YmxpY0lkKFwidmVoXCIpIDogbnVsbCxcbiAgICAgIHF1b3RlUmVxdWVzdElkOiBudWxsLFxuICAgICAgYm9va2luZ0lkOiBudWxsLFxuICAgICAgc2NoZWR1bGVkU3RhcnQ6IG51bGwsXG4gICAgICBzY2hlZHVsZWRFbmQ6IG51bGwsXG4gICAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICAgIHVwZGF0ZWRBdDogbm93LFxuICAgIH07XG4gICAgbWVtLmpvYnMuc2V0KGlkLCByZWMpO1xuICAgIHJldHVybiByZWM7XG4gIH0sXG5cbiAgYXN5bmMgbGlzdEpvYnMobGltaXQpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShtZW0uam9icy52YWx1ZXMoKSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLSBhLmNyZWF0ZWRBdC5nZXRUaW1lKCkpXG4gICAgICAuc2xpY2UoMCwgbGltaXQpO1xuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZUpvYlN0YXR1cyh3aGVyZSwgaW5wdXQpIHtcbiAgICBjb25zdCBleGlzdGluZyA9IG1lbS5qb2JzLmdldCh3aGVyZS5pZCk7XG4gICAgaWYgKCFleGlzdGluZykgdGhyb3cgbmV3IEVycm9yKFwiSm9iIG5vdCBmb3VuZFwiKTtcbiAgICBjb25zdCB1cGRhdGVkOiBKb2JSZWNvcmQgPSB7XG4gICAgICAuLi5leGlzdGluZyxcbiAgICAgIHN0YXR1czogaW5wdXQuc3RhdHVzLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgbWVtLmpvYnMuc2V0KHdoZXJlLmlkLCB1cGRhdGVkKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfSxcblxuICBhc3luYyBnZXRKb2JCeUlkKGlkKSB7XG4gICAgcmV0dXJuIG1lbS5qb2JzLmdldChpZCkgPz8gbnVsbDtcbiAgfSxcblxuICBhc3luYyBjcmVhdGVRdW90ZVJlcXVlc3QoaW5wdXQpIHtcbiAgICBjb25zdCBpZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCByZWM6IFF1b3RlUmVxdWVzdFJlY29yZCA9IHtcbiAgICAgIGlkLFxuICAgICAgcHVibGljSWQ6IHJhbmRvbVB1YmxpY0lkKFwicXJcIiksXG4gICAgICBzdGF0dXM6IFwiTkVXXCIsXG4gICAgICBjYXRlZ29yeTogaW5wdXQuY2F0ZWdvcnksXG4gICAgICB1cmdlbmN5OiBpbnB1dC51cmdlbmN5LFxuXG4gICAgICBjdXN0b21lcklkOiByYW5kb21QdWJsaWNJZChcImN1c3RcIiksXG4gICAgICBhZGRyZXNzSWQ6IHJhbmRvbVB1YmxpY0lkKFwiYWRkclwiKSxcbiAgICAgIHZlaGljbGVJZDogcmFuZG9tUHVibGljSWQoXCJ2ZWhcIiksXG5cbiAgICAgIHN5bXB0b21zOiBpbnB1dC5zeW1wdG9tcyxcbiAgICAgIGRlc2NyaXB0aW9uOiBpbnB1dC5kZXNjcmlwdGlvbixcbiAgICAgIHByaWNpbmdTbmFwc2hvdEpzb246IGlucHV0LnByaWNpbmdTbmFwc2hvdEpzb24sXG5cbiAgICAgIHNlcnZpY2VNOEpvYklkOiBudWxsLFxuICAgICAgc2VydmljZU04VXJsOiBudWxsLFxuXG4gICAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICAgIHVwZGF0ZWRBdDogbm93LFxuICAgIH07XG4gICAgbWVtLnF1b3RlUmVxdWVzdHMuc2V0KGlkLCByZWMpO1xuICAgIHJldHVybiByZWM7XG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlUXVvdGVSZXF1ZXN0U3RhdHVzKHdoZXJlLCBpbnB1dCkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gbWVtLnF1b3RlUmVxdWVzdHMuZ2V0KHdoZXJlLmlkKTtcbiAgICBpZiAoIWV4aXN0aW5nKSB0aHJvdyBuZXcgRXJyb3IoXCJRdW90ZSByZXF1ZXN0IG5vdCBmb3VuZFwiKTtcbiAgICBjb25zdCB1cGRhdGVkOiBRdW90ZVJlcXVlc3RSZWNvcmQgPSB7XG4gICAgICAuLi5leGlzdGluZyxcbiAgICAgIHN0YXR1czogaW5wdXQuc3RhdHVzLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgbWVtLnF1b3RlUmVxdWVzdHMuc2V0KHdoZXJlLmlkLCB1cGRhdGVkKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfSxcblxuICBhc3luYyBsaXN0UXVvdGVSZXF1ZXN0cyhsaW1pdCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKG1lbS5xdW90ZVJlcXVlc3RzLnZhbHVlcygpKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0LmdldFRpbWUoKSAtIGEuY3JlYXRlZEF0LmdldFRpbWUoKSlcbiAgICAgIC5zbGljZSgwLCBsaW1pdCk7XG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlQm9va2luZ1N0YXR1cyh3aGVyZSwgaW5wdXQpIHtcbiAgICBjb25zdCBleGlzdGluZyA9IG1lbS5ib29raW5ncy5nZXQod2hlcmUuaWQpO1xuICAgIGlmICghZXhpc3RpbmcpIHRocm93IG5ldyBFcnJvcihcIkJvb2tpbmcgbm90IGZvdW5kXCIpO1xuICAgIGNvbnN0IHVwZGF0ZWQ6IEJvb2tpbmdSZWNvcmQgPSB7XG4gICAgICAuLi5leGlzdGluZyxcbiAgICAgIHN0YXR1czogaW5wdXQuc3RhdHVzLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgbWVtLmJvb2tpbmdzLnNldCh3aGVyZS5pZCwgdXBkYXRlZCk7XG4gICAgcmV0dXJuIHVwZGF0ZWQ7XG4gIH0sXG5cbiAgYXN5bmMgdXBkYXRlQm9va2luZ1N0cmlwZVNlc3Npb24od2hlcmUsIGlucHV0KSB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBtZW0uYm9va2luZ3MuZ2V0KHdoZXJlLmlkKTtcbiAgICBpZiAoIWV4aXN0aW5nKSB0aHJvdyBuZXcgRXJyb3IoXCJCb29raW5nIG5vdCBmb3VuZFwiKTtcbiAgICBjb25zdCB1cGRhdGVkOiBCb29raW5nUmVjb3JkID0ge1xuICAgICAgLi4uZXhpc3RpbmcsXG4gICAgICBzdHJpcGVTZXNzaW9uSWQ6IGlucHV0LnN0cmlwZVNlc3Npb25JZCxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICAgIG1lbS5ib29raW5ncy5zZXQod2hlcmUuaWQsIHVwZGF0ZWQpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9LFxuXG4gIGFzeW5jIGdldEJvb2tpbmdCeUlkKGlkKSB7XG4gICAgcmV0dXJuIG1lbS5ib29raW5ncy5nZXQoaWQpID8/IG51bGw7XG4gIH0sXG5cbiAgYXN5bmMgbGlzdEJvb2tpbmdzKGxpbWl0KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obWVtLmJvb2tpbmdzLnZhbHVlcygpKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0LmdldFRpbWUoKSAtIGEuY3JlYXRlZEF0LmdldFRpbWUoKSlcbiAgICAgIC5zbGljZSgwLCBsaW1pdCk7XG4gIH0sXG5cbiAgYXN5bmMgZXhwaXJlUGVuZGluZ0Jvb2tpbmdzKG5vdykge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBiIG9mIG1lbS5ib29raW5ncy52YWx1ZXMoKSkge1xuICAgICAgaWYgKGIuc3RhdHVzID09PSBcIlBFTkRJTkdfUEFZTUVOVFwiICYmIGIucGF5bWVudEV4cGlyZXNBdCAmJiBiLnBheW1lbnRFeHBpcmVzQXQuZ2V0VGltZSgpIDw9IG5vdy5nZXRUaW1lKCkpIHtcbiAgICAgICAgbWVtLmJvb2tpbmdzLnNldChiLmlkLCB7IC4uLmIsIHN0YXR1czogXCJFWFBJUkVEXCIsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9KTtcbiAgICAgICAgY291bnQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xuICB9LFxuXG4gIGFzeW5jIGNyZWF0ZUlkZW1wb3RlbmN5S2V5T25jZShpbnB1dCkge1xuICAgIGNvbnN0IGsgPSBpZGVtTWFwS2V5KGlucHV0LnNjb3BlLCBpbnB1dC5rZXkpO1xuICAgIGlmIChtZW0uaWRlbXBvdGVuY3kuaGFzKGspKSByZXR1cm4geyBjcmVhdGVkOiBmYWxzZSB9O1xuICAgIG1lbS5pZGVtcG90ZW5jeS5zZXQoaywgeyBzY29wZTogaW5wdXQuc2NvcGUsIGtleTogaW5wdXQua2V5LCBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgcmV0dXJuIHsgY3JlYXRlZDogdHJ1ZSB9O1xuICB9LFxuXG4gIGFzeW5jIGNyZWF0ZU9yR2V0U2VydmljZVJlcG9ydEZvckJvb2tpbmcoaW5wdXQpIHtcbiAgICBjb25zdCBleGlzdGluZyA9IEFycmF5LmZyb20obWVtLnNlcnZpY2VSZXBvcnRzLnZhbHVlcygpKS5maW5kKChyKSA9PiByLmJvb2tpbmdJZCA9PT0gaW5wdXQuYm9va2luZ0lkICYmIHIudHlwZSA9PT0gaW5wdXQudHlwZSk7XG4gICAgaWYgKGV4aXN0aW5nKSByZXR1cm4gZXhpc3Rpbmc7XG4gICAgY29uc3QgaWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgcmVjOiBTZXJ2aWNlUmVwb3J0UmVjb3JkID0ge1xuICAgICAgaWQsXG4gICAgICBib29raW5nSWQ6IGlucHV0LmJvb2tpbmdJZCxcbiAgICAgIHR5cGU6IGlucHV0LnR5cGUsXG4gICAgICBzdGF0dXM6IFwiRFJBRlRcIixcbiAgICAgIGRhdGFKc29uOiB7XG4gICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgIHR5cGU6IGlucHV0LnR5cGUsXG4gICAgICAgIHRpdGxlOiBpbnB1dC50eXBlID09PSBcIkRJQUdOT1NUSUNTXCIgPyBcIkRpYWdub3N0aWNzIFJlcG9ydFwiIDogXCJQcmUtUHVyY2hhc2UgSW5zcGVjdGlvbiBSZXBvcnRcIixcbiAgICAgICAgc3VtbWFyeTogXCJcIixcbiAgICAgICAgY29udGVudE1hcmtkb3duOiBcIlwiLFxuICAgICAgICBhdHRhY2htZW50czogW10sXG4gICAgICB9LFxuICAgICAgcHVibGljVG9rZW46IHJhbmRvbVB1YmxpY1Rva2VuKCksXG4gICAgICBlbWFpbGVkQXQ6IG51bGwsXG4gICAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICAgIHVwZGF0ZWRBdDogbm93LFxuICAgIH07XG4gICAgbWVtLnNlcnZpY2VSZXBvcnRzLnNldChpZCwgcmVjKTtcbiAgICByZXR1cm4gcmVjO1xuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZVNlcnZpY2VSZXBvcnREYXRhKHdoZXJlLCBpbnB1dCkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gbWVtLnNlcnZpY2VSZXBvcnRzLmdldCh3aGVyZS5pZCk7XG4gICAgaWYgKCFleGlzdGluZykgdGhyb3cgbmV3IEVycm9yKFwiU2VydmljZSByZXBvcnQgbm90IGZvdW5kXCIpO1xuICAgIGNvbnN0IHVwZGF0ZWQ6IFNlcnZpY2VSZXBvcnRSZWNvcmQgPSB7XG4gICAgICAuLi5leGlzdGluZyxcbiAgICAgIHN0YXR1czogaW5wdXQuc3RhdHVzID8/IGV4aXN0aW5nLnN0YXR1cyxcbiAgICAgIGRhdGFKc29uOiBpbnB1dC5kYXRhSnNvbixcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICAgIG1lbS5zZXJ2aWNlUmVwb3J0cy5zZXQod2hlcmUuaWQsIHVwZGF0ZWQpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9LFxuXG4gIGFzeW5jIG1hcmtTZXJ2aWNlUmVwb3J0RW1haWxlZCh3aGVyZSwgaW5wdXQpIHtcbiAgICBjb25zdCBleGlzdGluZyA9IG1lbS5zZXJ2aWNlUmVwb3J0cy5nZXQod2hlcmUuaWQpO1xuICAgIGlmICghZXhpc3RpbmcpIHRocm93IG5ldyBFcnJvcihcIlNlcnZpY2UgcmVwb3J0IG5vdCBmb3VuZFwiKTtcbiAgICBjb25zdCB1cGRhdGVkOiBTZXJ2aWNlUmVwb3J0UmVjb3JkID0ge1xuICAgICAgLi4uZXhpc3RpbmcsXG4gICAgICBlbWFpbGVkQXQ6IGlucHV0LmVtYWlsZWRBdCxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9O1xuICAgIG1lbS5zZXJ2aWNlUmVwb3J0cy5zZXQod2hlcmUuaWQsIHVwZGF0ZWQpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9LFxuXG4gIGFzeW5jIGdldFNlcnZpY2VSZXBvcnRCeVB1YmxpY1Rva2VuKHRva2VuKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obWVtLnNlcnZpY2VSZXBvcnRzLnZhbHVlcygpKS5maW5kKChyKSA9PiByLnB1YmxpY1Rva2VuID09PSB0b2tlbikgPz8gbnVsbDtcbiAgfSxcbn07XG5cbmNvbnN0IHByaXNtYUFkYXB0ZXI6IERiQWRhcHRlciA9IHtcbiAgYXN5bmMgY3JlYXRlRGlhZ25vc3RpY3NCb29raW5nKGlucHV0KSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICBjb25zdCBib29raW5nID0gYXdhaXQgKHByaXNtYSBhcyBhbnkpLiR0cmFuc2FjdGlvbihhc3luYyAodHg6IGFueSkgPT4ge1xuICAgICAgY29uc3QgZW1haWwgPSAoaW5wdXQuY3VzdG9tZXIuZW1haWwgPz8gXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCkgfHwgbnVsbDtcbiAgICAgIGNvbnN0IHBob25lID0gKGlucHV0LmN1c3RvbWVyLnBob25lID8/IFwiXCIpLnRyaW0oKSB8fCBudWxsO1xuXG4gICAgICBjb25zdCBleGlzdGluZ0N1c3RvbWVyID0gYXdhaXQgdHguY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBPUjogW1xuICAgICAgICAgICAgLi4uKGVtYWlsID8gW3sgZW1haWwgfV0gOiBbXSksXG4gICAgICAgICAgICAuLi4ocGhvbmUgPyBbeyBwaG9uZSB9XSA6IFtdKSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGN1c3RvbWVyID1cbiAgICAgICAgZXhpc3RpbmdDdXN0b21lciA/P1xuICAgICAgICAoYXdhaXQgdHguY3VzdG9tZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBwdWJsaWNJZDogcmFuZG9tUHVibGljSWQoXCJjdXN0XCIpLFxuICAgICAgICAgICAgZnVsbE5hbWU6IGlucHV0LmN1c3RvbWVyLmZ1bGxOYW1lLFxuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IGFkZHJlc3MgPSBhd2FpdCB0eC5hZGRyZXNzLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBwdWJsaWNJZDogcmFuZG9tUHVibGljSWQoXCJhZGRyXCIpLFxuICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICAgIGxpbmUxOiBpbnB1dC5hZGRyZXNzLmxpbmUxLFxuICAgICAgICAgIHN1YnVyYjogaW5wdXQuYWRkcmVzcy5zdWJ1cmIsXG4gICAgICAgICAgY2l0eTogaW5wdXQuYWRkcmVzcy5jaXR5LFxuICAgICAgICAgIHBvc3Rjb2RlOiBpbnB1dC5hZGRyZXNzLnBvc3Rjb2RlID8/IG51bGwsXG4gICAgICAgICAgbGF0OiBpbnB1dC5hZGRyZXNzLmxhdCA/PyBudWxsLFxuICAgICAgICAgIGxuZzogaW5wdXQuYWRkcmVzcy5sbmcgPz8gbnVsbCxcbiAgICAgICAgICB0cmF2ZWxCYW5kOiBpbnB1dC5hZGRyZXNzLnRyYXZlbEJhbmQgPz8gbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB2ZWhpY2xlID0gYXdhaXQgdHgudmVoaWNsZS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcHVibGljSWQ6IHJhbmRvbVB1YmxpY0lkKFwidmVoXCIpLFxuICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICAgIHBsYXRlOiBpbnB1dC52ZWhpY2xlLnBsYXRlID8/IG51bGwsXG4gICAgICAgICAgbWFrZTogaW5wdXQudmVoaWNsZS5tYWtlID8/IG51bGwsXG4gICAgICAgICAgbW9kZWw6IGlucHV0LnZlaGljbGUubW9kZWwgPz8gbnVsbCxcbiAgICAgICAgICB5ZWFyOiBpbnB1dC52ZWhpY2xlLnllYXIgPz8gbnVsbCxcbiAgICAgICAgICBmdWVsOiBpbnB1dC52ZWhpY2xlLmZ1ZWwgPz8gbnVsbCxcbiAgICAgICAgICBvZG9tZXRlcjogaW5wdXQudmVoaWNsZS5vZG9tZXRlciA/PyBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0eC5ib29raW5nLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBwdWJsaWNJZDogcmFuZG9tUHVibGljSWQoXCJia1wiKSxcbiAgICAgICAgICBraW5kOiBcIkRJQUdOT1NUSUNTXCIsXG4gICAgICAgICAgc3RhdHVzOiBcIlBFTkRJTkdfUEFZTUVOVFwiLFxuICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICAgIGFkZHJlc3NJZDogYWRkcmVzcy5pZCxcbiAgICAgICAgICB2ZWhpY2xlSWQ6IHZlaGljbGUuaWQsXG4gICAgICAgICAgc2xvdFN0YXJ0OiBpbnB1dC5zbG90U3RhcnQsXG4gICAgICAgICAgc2xvdEVuZDogaW5wdXQuc2xvdEVuZCxcbiAgICAgICAgICBhZnRlckhvdXJzOiBpbnB1dC5hZnRlckhvdXJzLFxuICAgICAgICAgIHN5bXB0b21QcmVzZXQ6IGlucHV0LnN5bXB0b21QcmVzZXQgPz8gbnVsbCxcbiAgICAgICAgICBub3RlczogaW5wdXQubm90ZXMgPz8gbnVsbCxcbiAgICAgICAgICBwcmljaW5nU25hcHNob3RKc29uOiBpbnB1dC5wcmljaW5nU25hcHNob3RKc29uLFxuICAgICAgICAgIHBheW1lbnRFeHBpcmVzQXQ6IGlucHV0LnBheW1lbnRFeHBpcmVzQXQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBib29raW5nIGFzIGFueTtcbiAgfSxcblxuICBhc3luYyBjcmVhdGVRdW90ZVJlcXVlc3QoaW5wdXQpIHtcbiAgICBjb25zdCB7IHByaXNtYSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9zZXJ2ZXIvcHJpc21hXCIpO1xuICAgIGNvbnN0IHF1b3RlID0gYXdhaXQgKHByaXNtYSBhcyBhbnkpLiR0cmFuc2FjdGlvbihhc3luYyAodHg6IGFueSkgPT4ge1xuICAgICAgY29uc3QgZW1haWwgPSAoaW5wdXQuY3VzdG9tZXIuZW1haWwgPz8gXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCkgfHwgbnVsbDtcbiAgICAgIGNvbnN0IHBob25lID0gKGlucHV0LmN1c3RvbWVyLnBob25lID8/IFwiXCIpLnRyaW0oKSB8fCBudWxsO1xuXG4gICAgICBjb25zdCBleGlzdGluZ0N1c3RvbWVyID0gYXdhaXQgdHguY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBPUjogW1xuICAgICAgICAgICAgLi4uKGVtYWlsID8gW3sgZW1haWwgfV0gOiBbXSksXG4gICAgICAgICAgICAuLi4ocGhvbmUgPyBbeyBwaG9uZSB9XSA6IFtdKSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGN1c3RvbWVyID1cbiAgICAgICAgZXhpc3RpbmdDdXN0b21lciA/P1xuICAgICAgICAoYXdhaXQgdHguY3VzdG9tZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBwdWJsaWNJZDogcmFuZG9tUHVibGljSWQoXCJjdXN0XCIpLFxuICAgICAgICAgICAgZnVsbE5hbWU6IGlucHV0LmN1c3RvbWVyLmZ1bGxOYW1lLFxuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IGFkZHJlc3MgPSBhd2FpdCB0eC5hZGRyZXNzLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBwdWJsaWNJZDogcmFuZG9tUHVibGljSWQoXCJhZGRyXCIpLFxuICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICAgIGxpbmUxOiBpbnB1dC5hZGRyZXNzLmxpbmUxLFxuICAgICAgICAgIHN1YnVyYjogaW5wdXQuYWRkcmVzcy5zdWJ1cmIsXG4gICAgICAgICAgY2l0eTogaW5wdXQuYWRkcmVzcy5jaXR5LFxuICAgICAgICAgIHBvc3Rjb2RlOiBpbnB1dC5hZGRyZXNzLnBvc3Rjb2RlID8/IG51bGwsXG4gICAgICAgICAgbGF0OiBpbnB1dC5hZGRyZXNzLmxhdCA/PyBudWxsLFxuICAgICAgICAgIGxuZzogaW5wdXQuYWRkcmVzcy5sbmcgPz8gbnVsbCxcbiAgICAgICAgICB0cmF2ZWxCYW5kOiBpbnB1dC5hZGRyZXNzLnRyYXZlbEJhbmQgPz8gbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB2ZWhpY2xlID0gYXdhaXQgdHgudmVoaWNsZS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcHVibGljSWQ6IHJhbmRvbVB1YmxpY0lkKFwidmVoXCIpLFxuICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICAgIHBsYXRlOiBpbnB1dC52ZWhpY2xlLnBsYXRlID8/IG51bGwsXG4gICAgICAgICAgbWFrZTogaW5wdXQudmVoaWNsZS5tYWtlID8/IG51bGwsXG4gICAgICAgICAgbW9kZWw6IGlucHV0LnZlaGljbGUubW9kZWwgPz8gbnVsbCxcbiAgICAgICAgICB5ZWFyOiBpbnB1dC52ZWhpY2xlLnllYXIgPz8gbnVsbCxcbiAgICAgICAgICBmdWVsOiBpbnB1dC52ZWhpY2xlLmZ1ZWwgPz8gbnVsbCxcbiAgICAgICAgICBvZG9tZXRlcjogaW5wdXQudmVoaWNsZS5vZG9tZXRlciA/PyBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0eC5xdW90ZVJlcXVlc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHB1YmxpY0lkOiByYW5kb21QdWJsaWNJZChcInFyXCIpLFxuICAgICAgICAgIHN0YXR1czogXCJORVdcIixcbiAgICAgICAgICBjYXRlZ29yeTogaW5wdXQuY2F0ZWdvcnksXG4gICAgICAgICAgdXJnZW5jeTogaW5wdXQudXJnZW5jeSxcbiAgICAgICAgICBjdXN0b21lcklkOiBjdXN0b21lci5pZCxcbiAgICAgICAgICBhZGRyZXNzSWQ6IGFkZHJlc3MuaWQsXG4gICAgICAgICAgdmVoaWNsZUlkOiB2ZWhpY2xlLmlkLFxuICAgICAgICAgIHN5bXB0b21zOiBpbnB1dC5zeW1wdG9tcyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogaW5wdXQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcHJpY2luZ1NuYXBzaG90SnNvbjogaW5wdXQucHJpY2luZ1NuYXBzaG90SnNvbixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBxdW90ZSBhcyBhbnk7XG4gIH0sXG5cbiAgYXN5bmMgY3JlYXRlSm9iKGlucHV0KSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICBjb25zdCBqb2IgPSBhd2FpdCAocHJpc21hIGFzIGFueSkuJHRyYW5zYWN0aW9uKGFzeW5jICh0eDogYW55KSA9PiB7XG4gICAgICBjb25zdCBlbWFpbCA9IChpbnB1dC5jdXN0b21lci5lbWFpbCA/PyBcIlwiKS50cmltKCkudG9Mb3dlckNhc2UoKSB8fCBudWxsO1xuICAgICAgY29uc3QgcGhvbmUgPSAoaW5wdXQuY3VzdG9tZXIucGhvbmUgPz8gXCJcIikudHJpbSgpIHx8IG51bGw7XG5cbiAgICAgIGNvbnN0IGV4aXN0aW5nQ3VzdG9tZXIgPSBhd2FpdCB0eC5jdXN0b21lci5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIE9SOiBbXG4gICAgICAgICAgICAuLi4oZW1haWwgPyBbeyBlbWFpbCB9XSA6IFtdKSxcbiAgICAgICAgICAgIC4uLihwaG9uZSA/IFt7IHBob25lIH1dIDogW10pLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY3VzdG9tZXIgPVxuICAgICAgICBleGlzdGluZ0N1c3RvbWVyID8/XG4gICAgICAgIChhd2FpdCB0eC5jdXN0b21lci5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHB1YmxpY0lkOiByYW5kb21QdWJsaWNJZChcImN1c3RcIiksXG4gICAgICAgICAgICBmdWxsTmFtZTogaW5wdXQuY3VzdG9tZXIuZnVsbE5hbWUsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBob25lLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcblxuICAgICAgY29uc3QgYWRkcmVzcyA9IGF3YWl0IHR4LmFkZHJlc3MuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHB1YmxpY0lkOiByYW5kb21QdWJsaWNJZChcImFkZHJcIiksXG4gICAgICAgICAgY3VzdG9tZXJJZDogY3VzdG9tZXIuaWQsXG4gICAgICAgICAgbGluZTE6IGlucHV0LmFkZHJlc3MubGluZTEsXG4gICAgICAgICAgc3VidXJiOiBpbnB1dC5hZGRyZXNzLnN1YnVyYixcbiAgICAgICAgICBjaXR5OiBpbnB1dC5hZGRyZXNzLmNpdHksXG4gICAgICAgICAgcG9zdGNvZGU6IGlucHV0LmFkZHJlc3MucG9zdGNvZGUgPz8gbnVsbCxcbiAgICAgICAgICBsYXQ6IGlucHV0LmFkZHJlc3MubGF0ID8/IG51bGwsXG4gICAgICAgICAgbG5nOiBpbnB1dC5hZGRyZXNzLmxuZyA/PyBudWxsLFxuICAgICAgICAgIHRyYXZlbEJhbmQ6IGlucHV0LmFkZHJlc3MudHJhdmVsQmFuZCA/PyBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHZlaGljbGUgPSBpbnB1dC52ZWhpY2xlXG4gICAgICAgID8gYXdhaXQgdHgudmVoaWNsZS5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwdWJsaWNJZDogcmFuZG9tUHVibGljSWQoXCJ2ZWhcIiksXG4gICAgICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICAgICAgICBwbGF0ZTogaW5wdXQudmVoaWNsZS5wbGF0ZSA/PyBudWxsLFxuICAgICAgICAgICAgICBtYWtlOiBpbnB1dC52ZWhpY2xlLm1ha2UgPz8gbnVsbCxcbiAgICAgICAgICAgICAgbW9kZWw6IGlucHV0LnZlaGljbGUubW9kZWwgPz8gbnVsbCxcbiAgICAgICAgICAgICAgeWVhcjogaW5wdXQudmVoaWNsZS55ZWFyID8/IG51bGwsXG4gICAgICAgICAgICAgIGZ1ZWw6IGlucHV0LnZlaGljbGUuZnVlbCA/PyBudWxsLFxuICAgICAgICAgICAgICBvZG9tZXRlcjogaW5wdXQudmVoaWNsZS5vZG9tZXRlciA/PyBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICA6IG51bGw7XG5cbiAgICAgIHJldHVybiB0eC5qb2IuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHB1YmxpY0lkOiByYW5kb21QdWJsaWNJZChcImpvYlwiKSxcbiAgICAgICAgICBzdGF0dXM6IChpbnB1dC5zdGF0dXMgPz8gXCJORVdcIikgYXMgYW55LFxuICAgICAgICAgIHRpdGxlOiBpbnB1dC50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogaW5wdXQuZGVzY3JpcHRpb24gPz8gbnVsbCxcbiAgICAgICAgICBpbnRlcm5hbE5vdGVzOiBpbnB1dC5pbnRlcm5hbE5vdGVzID8/IG51bGwsXG4gICAgICAgICAgY3VzdG9tZXJJZDogY3VzdG9tZXIuaWQsXG4gICAgICAgICAgYWRkcmVzc0lkOiBhZGRyZXNzLmlkLFxuICAgICAgICAgIHZlaGljbGVJZDogdmVoaWNsZT8uaWQgPz8gbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBqb2IgYXMgYW55O1xuICB9LFxuXG4gIGFzeW5jIGxpc3RKb2JzKGxpbWl0KSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICBjb25zdCByb3dzID0gYXdhaXQgKHByaXNtYSBhcyBhbnkpLmpvYi5maW5kTWFueSh7XG4gICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogXCJkZXNjXCIgfSxcbiAgICAgIHRha2U6IGxpbWl0LFxuICAgIH0pO1xuICAgIHJldHVybiByb3dzIGFzIGFueTtcbiAgfSxcblxuICBhc3luYyB1cGRhdGVKb2JTdGF0dXMod2hlcmUsIGlucHV0KSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICBjb25zdCBqb2IgPSBhd2FpdCAocHJpc21hIGFzIGFueSkuam9iLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogd2hlcmUuaWQgfSxcbiAgICAgIGRhdGE6IHsgc3RhdHVzOiBpbnB1dC5zdGF0dXMgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gam9iIGFzIGFueTtcbiAgfSxcblxuICBhc3luYyBnZXRKb2JCeUlkKGlkKSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICByZXR1cm4gKGF3YWl0IChwcmlzbWEgYXMgYW55KS5qb2IuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkIH0gfSkpIGFzIGFueTtcbiAgfSxcblxuICBhc3luYyB1cGRhdGVRdW90ZVJlcXVlc3RTdGF0dXMod2hlcmUsIGlucHV0KSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICBjb25zdCBxdW90ZSA9IGF3YWl0IChwcmlzbWEgYXMgYW55KS5xdW90ZVJlcXVlc3QudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiB3aGVyZS5pZCB9LFxuICAgICAgZGF0YTogeyBzdGF0dXM6IGlucHV0LnN0YXR1cyB9LFxuICAgIH0pO1xuICAgIHJldHVybiBxdW90ZSBhcyBhbnk7XG4gIH0sXG5cbiAgYXN5bmMgbGlzdFF1b3RlUmVxdWVzdHMobGltaXQpIHtcbiAgICBjb25zdCB7IHByaXNtYSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9zZXJ2ZXIvcHJpc21hXCIpO1xuICAgIGNvbnN0IHJvd3MgPSBhd2FpdCAocHJpc21hIGFzIGFueSkucXVvdGVSZXF1ZXN0LmZpbmRNYW55KHtcbiAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiBcImRlc2NcIiB9LFxuICAgICAgdGFrZTogbGltaXQsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJvd3MgYXMgYW55O1xuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZUJvb2tpbmdTdGF0dXMod2hlcmUsIGlucHV0KSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICBjb25zdCBib29raW5nID0gYXdhaXQgKHByaXNtYSBhcyBhbnkpLmJvb2tpbmcudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiB3aGVyZS5pZCB9LFxuICAgICAgZGF0YTogeyBzdGF0dXM6IGlucHV0LnN0YXR1cyB9LFxuICAgIH0pO1xuICAgIHJldHVybiBib29raW5nIGFzIGFueTtcbiAgfSxcblxuICBhc3luYyB1cGRhdGVCb29raW5nU3RyaXBlU2Vzc2lvbih3aGVyZSwgaW5wdXQpIHtcbiAgICBjb25zdCB7IHByaXNtYSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9zZXJ2ZXIvcHJpc21hXCIpO1xuICAgIGNvbnN0IGJvb2tpbmcgPSBhd2FpdCBwcmlzbWEuYm9va2luZy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHdoZXJlLmlkIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0cmlwZVNlc3Npb25JZDogaW5wdXQuc3RyaXBlU2Vzc2lvbklkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gYm9va2luZyBhcyBhbnk7XG4gIH0sXG5cbiAgYXN5bmMgZ2V0Qm9va2luZ0J5SWQoaWQpIHtcbiAgICBjb25zdCB7IHByaXNtYSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9zZXJ2ZXIvcHJpc21hXCIpO1xuICAgIHJldHVybiAoYXdhaXQgcHJpc21hLmJvb2tpbmcuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkIH0gfSkpIGFzIGFueTtcbiAgfSxcblxuICBhc3luYyBsaXN0Qm9va2luZ3MobGltaXQpIHtcbiAgICBjb25zdCB7IHByaXNtYSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9zZXJ2ZXIvcHJpc21hXCIpO1xuICAgIHJldHVybiAoYXdhaXQgcHJpc21hLmJvb2tpbmcuZmluZE1hbnkoeyBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogXCJkZXNjXCIgfSwgdGFrZTogbGltaXQgfSkpIGFzIGFueTtcbiAgfSxcblxuICBhc3luYyBleHBpcmVQZW5kaW5nQm9va2luZ3Mobm93KSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCAocHJpc21hIGFzIGFueSkuYm9va2luZy51cGRhdGVNYW55KHtcbiAgICAgIHdoZXJlOiB7IHN0YXR1czogXCJQRU5ESU5HX1BBWU1FTlRcIiwgcGF5bWVudEV4cGlyZXNBdDogeyBsdGU6IG5vdyB9IH0sXG4gICAgICBkYXRhOiB7IHN0YXR1czogXCJFWFBJUkVEXCIgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzLmNvdW50O1xuICB9LFxuXG4gIGFzeW5jIGNyZWF0ZUlkZW1wb3RlbmN5S2V5T25jZShpbnB1dCkge1xuICAgIGNvbnN0IHsgcHJpc21hIH0gPSBhd2FpdCBpbXBvcnQoXCJAL3NlcnZlci9wcmlzbWFcIik7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IChwcmlzbWEgYXMgYW55KS5pZGVtcG90ZW5jeUtleS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc2NvcGU6IGlucHV0LnNjb3BlLFxuICAgICAgICAgIGtleTogaW5wdXQua2V5LFxuICAgICAgICAgIHJlcXVlc3RIYXNoOiBpbnB1dC5yZXF1ZXN0SGFzaCA/PyBudWxsLFxuICAgICAgICAgIHJlc3BvbnNlSnNvbjogaW5wdXQucmVzcG9uc2VKc29uID8/IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IGNyZWF0ZWQ6IHRydWUgfTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB7IGNyZWF0ZWQ6IGZhbHNlIH07XG4gICAgfVxuICB9LFxuXG4gIGFzeW5jIGNyZWF0ZU9yR2V0U2VydmljZVJlcG9ydEZvckJvb2tpbmcoaW5wdXQpIHtcbiAgICBjb25zdCB7IHByaXNtYSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9zZXJ2ZXIvcHJpc21hXCIpO1xuICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgKHByaXNtYSBhcyBhbnkpLnNlcnZpY2VSZXBvcnQuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IGJvb2tpbmdJZDogaW5wdXQuYm9va2luZ0lkLCB0eXBlOiBpbnB1dC50eXBlIH0sXG4gICAgfSk7XG4gICAgaWYgKGV4aXN0aW5nKSByZXR1cm4gZXhpc3RpbmcgYXMgYW55O1xuXG4gICAgY29uc3QgZGF0YUpzb24gPSB7XG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgdHlwZTogaW5wdXQudHlwZSxcbiAgICAgIHRpdGxlOiBpbnB1dC50eXBlID09PSBcIkRJQUdOT1NUSUNTXCIgPyBcIkRpYWdub3N0aWNzIFJlcG9ydFwiIDogXCJQcmUtUHVyY2hhc2UgSW5zcGVjdGlvbiBSZXBvcnRcIixcbiAgICAgIHN1bW1hcnk6IFwiXCIsXG4gICAgICBjb250ZW50TWFya2Rvd246IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCAocHJpc21hIGFzIGFueSkuc2VydmljZVJlcG9ydC5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBib29raW5nSWQ6IGlucHV0LmJvb2tpbmdJZCxcbiAgICAgICAgdHlwZTogaW5wdXQudHlwZSxcbiAgICAgICAgc3RhdHVzOiBcIkRSQUZUXCIsXG4gICAgICAgIGRhdGFKc29uLFxuICAgICAgICBwdWJsaWNUb2tlbjogcmFuZG9tUHVibGljVG9rZW4oKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNyZWF0ZWQgYXMgYW55O1xuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZVNlcnZpY2VSZXBvcnREYXRhKHdoZXJlLCBpbnB1dCkge1xuICAgIGNvbnN0IHsgcHJpc21hIH0gPSBhd2FpdCBpbXBvcnQoXCJAL3NlcnZlci9wcmlzbWFcIik7XG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IChwcmlzbWEgYXMgYW55KS5zZXJ2aWNlUmVwb3J0LnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogd2hlcmUuaWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBpbnB1dC5zdGF0dXMsXG4gICAgICAgIGRhdGFKc29uOiBpbnB1dC5kYXRhSnNvbixcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHVwZGF0ZWQgYXMgYW55O1xuICB9LFxuXG4gIGFzeW5jIG1hcmtTZXJ2aWNlUmVwb3J0RW1haWxlZCh3aGVyZSwgaW5wdXQpIHtcbiAgICBjb25zdCB7IHByaXNtYSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9zZXJ2ZXIvcHJpc21hXCIpO1xuICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCAocHJpc21hIGFzIGFueSkuc2VydmljZVJlcG9ydC51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHdoZXJlLmlkIH0sXG4gICAgICBkYXRhOiB7IGVtYWlsZWRBdDogaW5wdXQuZW1haWxlZEF0IH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHVwZGF0ZWQgYXMgYW55O1xuICB9LFxuXG4gIGFzeW5jIGdldFNlcnZpY2VSZXBvcnRCeVB1YmxpY1Rva2VuKHRva2VuKSB7XG4gICAgY29uc3QgeyBwcmlzbWEgfSA9IGF3YWl0IGltcG9ydChcIkAvc2VydmVyL3ByaXNtYVwiKTtcbiAgICByZXR1cm4gKGF3YWl0IChwcmlzbWEgYXMgYW55KS5zZXJ2aWNlUmVwb3J0LmZpbmRVbmlxdWUoeyB3aGVyZTogeyBwdWJsaWNUb2tlbjogdG9rZW4gfSB9KSkgYXMgYW55O1xuICB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRiKCk6IERiQWRhcHRlciB7XG4gIHJldHVybiBpc0Rldk5vRGIoKSA/IG1lbW9yeUFkYXB0ZXIgOiBwcmlzbWFBZGFwdGVyO1xufVxuIl0sIm5hbWVzIjpbImNyeXB0byIsInJhbmRvbVB1YmxpY0lkIiwicHJlZml4IiwiaWQiLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiaGFzRGJFbnYiLCJCb29sZWFuIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsIkRiVW5hdmFpbGFibGVFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsIm5hbWUiLCJzbGVlcCIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiaXNMaWtlbHlEYkNvbm5lY3Rpdml0eUVycm9yIiwiZXJyIiwibXNnIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsIndpdGhEYlJldHJpZXMiLCJmbiIsImRlbGF5cyIsImxhc3RFcnIiLCJhdHRlbXB0IiwibGVuZ3RoIiwiZGJIZWFsdGhDaGVjayIsImlzRGV2Tm9EYiIsIm9rIiwibGF0ZW5jeU1zIiwiZXJyb3IiLCJzdGFydGVkIiwiRGF0ZSIsIm5vdyIsInByaXNtYSIsInRpbWVvdXRNcyIsIk51bWJlciIsIkRCX0hFQUxUSENIRUNLX1RJTUVPVVRfTVMiLCJyYWNlIiwiJHF1ZXJ5UmF3IiwiXyIsInJlamVjdCIsImFzc2VydERiSGVhbHRoeU9yVGhyb3ciLCJoZWFsdGgiLCJERVZfTk9fREIiLCJtZW0iLCJnbG9iYWwiLCJfX2Rldk5vRGJTdG9yZSIsImJvb2tpbmdzIiwiTWFwIiwicXVvdGVSZXF1ZXN0cyIsImpvYnMiLCJzZXJ2aWNlUmVwb3J0cyIsImlkZW1wb3RlbmN5IiwiaWRlbU1hcEtleSIsInNjb3BlIiwia2V5IiwicmFuZG9tUHVibGljVG9rZW4iLCJtZW1vcnlBZGFwdGVyIiwiY3JlYXRlRGlhZ25vc3RpY3NCb29raW5nIiwiaW5wdXQiLCJyYW5kb21VVUlEIiwicmVjIiwicHVibGljSWQiLCJraW5kIiwic3RhdHVzIiwiY3VzdG9tZXJJZCIsImFkZHJlc3NJZCIsInZlaGljbGVJZCIsInNsb3RTdGFydCIsInNsb3RFbmQiLCJhZnRlckhvdXJzIiwic3ltcHRvbVByZXNldCIsIm5vdGVzIiwicHJpY2luZ1NuYXBzaG90SnNvbiIsInN0cmlwZVNlc3Npb25JZCIsInBheW1lbnRFeHBpcmVzQXQiLCJzZXJ2aWNlTThKb2JJZCIsInNlcnZpY2VNOFVybCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInNldCIsImNyZWF0ZUpvYiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpbnRlcm5hbE5vdGVzIiwidmVoaWNsZSIsInF1b3RlUmVxdWVzdElkIiwiYm9va2luZ0lkIiwic2NoZWR1bGVkU3RhcnQiLCJzY2hlZHVsZWRFbmQiLCJsaXN0Sm9icyIsImxpbWl0IiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwic29ydCIsImEiLCJiIiwiZ2V0VGltZSIsInNsaWNlIiwidXBkYXRlSm9iU3RhdHVzIiwid2hlcmUiLCJleGlzdGluZyIsImdldCIsInVwZGF0ZWQiLCJnZXRKb2JCeUlkIiwiY3JlYXRlUXVvdGVSZXF1ZXN0IiwiY2F0ZWdvcnkiLCJ1cmdlbmN5Iiwic3ltcHRvbXMiLCJ1cGRhdGVRdW90ZVJlcXVlc3RTdGF0dXMiLCJsaXN0UXVvdGVSZXF1ZXN0cyIsInVwZGF0ZUJvb2tpbmdTdGF0dXMiLCJ1cGRhdGVCb29raW5nU3RyaXBlU2Vzc2lvbiIsImdldEJvb2tpbmdCeUlkIiwibGlzdEJvb2tpbmdzIiwiZXhwaXJlUGVuZGluZ0Jvb2tpbmdzIiwiY291bnQiLCJjcmVhdGVJZGVtcG90ZW5jeUtleU9uY2UiLCJrIiwiaGFzIiwiY3JlYXRlZCIsImNyZWF0ZU9yR2V0U2VydmljZVJlcG9ydEZvckJvb2tpbmciLCJmaW5kIiwiciIsInR5cGUiLCJkYXRhSnNvbiIsInZlcnNpb24iLCJzdW1tYXJ5IiwiY29udGVudE1hcmtkb3duIiwiYXR0YWNobWVudHMiLCJwdWJsaWNUb2tlbiIsImVtYWlsZWRBdCIsInVwZGF0ZVNlcnZpY2VSZXBvcnREYXRhIiwibWFya1NlcnZpY2VSZXBvcnRFbWFpbGVkIiwiZ2V0U2VydmljZVJlcG9ydEJ5UHVibGljVG9rZW4iLCJ0b2tlbiIsInByaXNtYUFkYXB0ZXIiLCJib29raW5nIiwiJHRyYW5zYWN0aW9uIiwidHgiLCJlbWFpbCIsImN1c3RvbWVyIiwidHJpbSIsInBob25lIiwiZXhpc3RpbmdDdXN0b21lciIsImZpbmRGaXJzdCIsIk9SIiwiY3JlYXRlIiwiZGF0YSIsImZ1bGxOYW1lIiwiYWRkcmVzcyIsImxpbmUxIiwic3VidXJiIiwiY2l0eSIsInBvc3Rjb2RlIiwibGF0IiwibG5nIiwidHJhdmVsQmFuZCIsInBsYXRlIiwibWFrZSIsIm1vZGVsIiwieWVhciIsImZ1ZWwiLCJvZG9tZXRlciIsInF1b3RlIiwicXVvdGVSZXF1ZXN0Iiwiam9iIiwicm93cyIsImZpbmRNYW55Iiwib3JkZXJCeSIsInRha2UiLCJ1cGRhdGUiLCJmaW5kVW5pcXVlIiwicmVzIiwidXBkYXRlTWFueSIsImx0ZSIsImlkZW1wb3RlbmN5S2V5IiwicmVxdWVzdEhhc2giLCJyZXNwb25zZUpzb24iLCJzZXJ2aWNlUmVwb3J0IiwiZGIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/server/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.1.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fhealth%2Froute&page=%2Fapi%2Fhealth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhealth%2Froute.ts&appDir=C%3A%5Cnzmobileautos%5Cnext%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cnzmobileautos%5Cnext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();