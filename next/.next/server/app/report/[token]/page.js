"use strict";(()=>{var e={};e.id=1307,e.ids=[1307],e.modules={96330:e=>{e.exports=require("@prisma/client")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{e.exports=require("crypto")},33873:e=>{e.exports=require("path")},38410:(e,t,r)=>{r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(86958),n=r(61657),a=r(39809),l=r.n(a),i=r(8910),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["report",{children:["[token]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,57488)),"C:\\nzmobileautos\\next\\src\\app\\report\\[token]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,60442)),"C:\\nzmobileautos\\next\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,63031,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,7642,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,90563,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\nzmobileautos\\next\\src\\app\\report\\[token]\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/report/[token]/page",pathname:"/report/[token]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57488:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o,dynamic:()=>l,revalidate:()=>i});var s=r(38982),n=r(22944),a=r(99253);let l="force-dynamic",i=0;async function o({params:e}){let{token:t}=await e,r=await (0,n.db)().getServiceReportByPublicToken(t);if(!r)return(0,a.notFound)();let l=r.dataJson?.title||("DIAGNOSTICS"===r.type?"Diagnostics Report":"Pre-Purchase Inspection Report"),i=r.dataJson?.summary||"",o=r.dataJson?.contentMarkdown||"",d=Array.isArray(r.dataJson?.attachments)?r.dataJson.attachments:[],c=d.filter(e=>"string"==typeof e?.url&&function(e){let t=e.toLowerCase();return t.endsWith(".jpg")||t.endsWith(".jpeg")||t.endsWith(".png")||t.endsWith(".webp")||t.includes("image/")}(e.url));return(0,s.jsxs)("div",{className:"container py-12 max-w-3xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold tracking-tight",children:l}),i?(0,s.jsx)("p",{className:"mt-4 text-white/70 whitespace-pre-wrap",children:i}):null,c.length>0?(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Photos"}),(0,s.jsx)("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:c.map((e,t)=>(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"block",children:[(0,s.jsx)("img",{src:e.url,alt:e.label||`Photo ${t+1}`,className:"w-full rounded-lg border border-white/10 bg-black/20",loading:"lazy"}),(0,s.jsx)("div",{className:"mt-2 text-xs text-white/60",children:e.label||e.name||""})]},t))})]}):null,d.length>0?(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Attachments"}),(0,s.jsx)("ul",{className:"mt-3 space-y-2",children:d.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"text-brand-yellow hover:underline",href:e.url,target:"_blank",rel:"noreferrer",children:e.label||e.name||e.url})},t))})]}):null,o?(0,s.jsxs)("div",{className:"mt-10",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Report"}),(0,s.jsx)("div",{className:"mt-3 whitespace-pre-wrap text-white/80 leading-7",children:o})]}):(0,s.jsx)("div",{className:"mt-10 text-white/70",children:"Report content is not available yet."}),(0,s.jsxs)("div",{className:"mt-10 text-xs text-white/50",children:["Reference: ",r.bookingId]})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4762,2646,2169,2944,2458],()=>r(38410));module.exports=s})();