(()=>{var e={};e.id=7235,e.ids=[7235],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},33876:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(86958),i=s(61657),a=s(39809),n=s.n(a),l=s(8910),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(public",{children:[")",{children:["instant-quote",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,70888)),"C:\\nzmobileautos\\next\\src\\app\\(public\\)\\instant-quote\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,60442)),"C:\\nzmobileautos\\next\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,63031,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,7642,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,90563,23)),"next/dist/client/components/unauthorized-error"]}],d=["C:\\nzmobileautos\\next\\src\\app\\(public\\)\\instant-quote\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(public/)/instant-quote/page",pathname:"/(public/)/instant-quote",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9870:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,25265,23)),Promise.resolve().then(s.t.bind(s,34249,23)),Promise.resolve().then(s.t.bind(s,39809,23)),Promise.resolve().then(s.t.bind(s,51984,23)),Promise.resolve().then(s.t.bind(s,6480,23)),Promise.resolve().then(s.t.bind(s,65588,23)),Promise.resolve().then(s.t.bind(s,90635,23))},72918:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,95121,23)),Promise.resolve().then(s.t.bind(s,39593,23)),Promise.resolve().then(s.t.bind(s,91937,23)),Promise.resolve().then(s.t.bind(s,17744,23)),Promise.resolve().then(s.t.bind(s,42032,23)),Promise.resolve().then(s.t.bind(s,84692,23)),Promise.resolve().then(s.t.bind(s,58147,23))},60546:(e,t,s)=>{Promise.resolve().then(s.bind(s,70888))},78698:(e,t,s)=>{Promise.resolve().then(s.bind(s,16512))},64897:()=>{},78049:()=>{},63505:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(45087);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:o,iconNode:c,...d},u)=>(0,r.createElement)("svg",{ref:u,...n,width:t,height:t,stroke:e,strokeWidth:i?24*Number(s)/Number(t):s,className:a("lucide",l),...d},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...n},o)=>(0,r.createElement)(l,{ref:o,iconNode:t,className:a(`lucide-${i(e)}`,s),...n}));return s.displayName=`${e}`,s}},82826:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(63505).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},86946:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(63505).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},59994:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(63505).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},37800:(e,t,s)=>{"use strict";var r=s(83676);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},16512:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(57102),i=s(45087),a=s(63505);let n=(0,a.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var l=s(86946),o=s(82826);function c({onResult:e}){let[t,s]=(0,i.useState)(""),[a,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(!1),[x,h]=(0,i.useState)(""),m=async s=>{s.preventDefault(),u(!0),h("");try{let s=await fetch("/api/identity",{method:"POST",body:JSON.stringify({plate:t.trim(),email:a.trim(),intent:!0})}),r=await s.json();if(!s.ok)throw Error(r.error||"Lookup failed");e(r,a.trim())}catch(e){h(e.message)}finally{u(!1)}};return(0,r.jsx)("div",{className:"w-full max-w-md mx-auto sky-gradient p-1 rounded-2xl shadow-xl",children:(0,r.jsxs)("div",{className:"bg-black/90 p-6 rounded-xl border border-white/10",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4 text-white",children:"Get Instant Price"}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-widest text-white/50 font-bold",children:"Registration Plate"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{required:!0,className:"w-full h-14 bg-white/5 border border-white/10 rounded-lg px-4 text-2xl font-black text-white focus:border-brand-yellow focus:ring-1 focus:ring-brand-yellow outline-none uppercase tracking-tighter",placeholder:"ABC123",value:t,onChange:e=>s(e.target.value.toUpperCase())}),(0,r.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-20",children:(0,r.jsx)(n,{size:24,className:"text-white"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs uppercase tracking-widest text-white/50 font-bold",children:"Email (For Quote)"}),(0,r.jsx)("input",{required:!0,type:"email",className:"w-full h-12 bg-white/5 border border-white/10 rounded-lg px-4 text-white outline-none focus:border-brand-yellow/50",placeholder:"chris@example.com",value:a,onChange:e=>c(e.target.value)})]}),(0,r.jsx)("button",{type:"submit",disabled:d,className:"w-full h-14 bg-brand-yellow text-black font-black rounded-lg hover:bg-white transition-colors flex items-center justify-center gap-2 group",children:d?(0,r.jsx)(l.A,{className:"animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["GET INSTANT PRICE",(0,r.jsx)(o.A,{className:"group-hover:translate-x-1 transition-transform"})]})}),x&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:x}),(0,r.jsx)("p",{className:"text-[10px] text-white/30 text-center uppercase tracking-tight",children:"* 90-day lookup cache active. MotorWeb data strictly for classification."})]})]})})}var d=s(59994);let u=(0,a.A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),x=(0,a.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),h=(0,a.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),m={BASIC:{PETROL:{CAR:275,SUV:295,PERFORMANCE:345},DIESEL:{UTE:305,COMMERCIAL:345}},COMPREHENSIVE:{PETROL:{CAR:385,SUV:405,PERFORMANCE:465},DIESEL:{UTE:415,COMMERCIAL:465}},DIAGNOSTICS:140,PPI:220};function p(e,t,s){if("SERVICE"===e){let e=0;return"DIAGNOSTICS"===s?e=m.DIAGNOSTICS:"PPI"===s?e=m.PPI:(e=function(e,t,s){let r=m[e],i=r[t]||r.PETROL;return i[s]||i.CAR||295}("COMPREHENSIVE"===s?"COMPREHENSIVE":"BASIC","EV"===t.fuel_class?"PETROL":t.fuel_class,t.body_class),t.body_class),{mode:"SERVICE",total:e,gst:.130435*e,breakdown:{base_price:e,oil_included:"Up to 5L included"},disclaimer:"Final oil quantity and requirements confirmed onsite. Extra oil charged at $22/L.",isEstimate:!1}}let r="HEAVY"===t.load_class?{min:450,max:750}:{min:250,max:550};return{mode:"REPAIR",total:r.min,gst:.130435*r.min,estimateRange:r,breakdown:{},disclaimer:"Pricing shown is an estimated range for a standard repair. Final cost depends on parts and complexity, confirmed after diagnostic inspection.",isEstimate:!0}}var b=s(37800);function f(){let[e,t]=(0,i.useState)(null),[s,a]=(0,i.useState)("");return(0,r.jsx)("div",{className:"min-h-screen bg-black text-white selection:bg-brand-yellow selection:text-black",children:(0,r.jsx)("div",{className:"container overflow-hidden pt-12 pb-24",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-12",children:[(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsxs)("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter leading-none",children:["INSTANT ",(0,r.jsx)("span",{className:"text-brand-yellow",children:"QUOTES"}),".",(0,r.jsx)("br",{}),"ZERO GUESSWORK."]}),(0,r.jsx)("p",{className:"text-white/60 text-lg max-w-xl mx-auto",children:"Identify your vehicle, select your service, and pay online. We handle the rest. Powered by MotorWeb mTLS Identity."})]}),e?(0,r.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between p-6 bg-white/5 border border-white/10 rounded-2xl gap-6",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-brand-yellow font-bold uppercase text-xs tracking-widest",children:[(0,r.jsx)(d.A,{size:14})," Identity Verified"]}),(0,r.jsxs)("h2",{className:"text-3xl font-black italic uppercase tracking-tighter",children:[e.identity.year," ",e.identity.make," ",e.identity.model]}),(0,r.jsxs)("div",{className:"text-white/40 font-mono text-sm",children:[e.identity.plate," • ",e.identity.vin]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(g,{text:e.classification.fuel_class}),(0,r.jsx)(g,{text:e.classification.body_class}),(0,r.jsx)(g,{text:e.classification.load_class})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsx)(w,{title:"Basic Service",serviceKey:"BASIC",result:e,email:s,quote:p("SERVICE",e.classification,"BASIC"),features:["Oil & Filter Change","30-Point Inspection","Fluid Top Ups","Service Light Reset"]}),(0,r.jsx)(w,{title:"Comprehensive",serviceKey:"COMPREHENSIVE",result:e,email:s,quote:p("SERVICE",e.classification,"COMPREHENSIVE"),high:!0,features:["Full Engine Inspection","Diagnostic Health Check","Brake Performance Test","Filter Replacements"]})]}),(0,r.jsxs)("div",{className:"p-8 border border-white/10 rounded-2xl bg-white/5 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-white/50 text-xs font-bold uppercase tracking-widest",children:[(0,r.jsx)(u,{size:14})," Fixed Price Repairs (Estimates)"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsx)(v,{title:"Brake Pads",quote:p("REPAIR",e.classification)}),(0,r.jsx)(v,{title:"New Battery",quote:p("REPAIR",e.classification)}),(0,r.jsx)(v,{title:"Alternator",quote:p("REPAIR",e.classification)})]})]}),(0,r.jsx)("div",{className:"text-center pt-8",children:(0,r.jsx)("button",{onClick:()=>t(null),className:"text-white/40 hover:text-white transition-colors text-xs font-bold uppercase tracking-widest underline decoration-2 underline-offset-4",children:"Clear Result & Lookup Another Plate"})})]}):(0,r.jsx)(c,{onResult:(e,s)=>{t(e),a(s)}})]})})})}function g({text:e}){return(0,r.jsx)("div",{className:"px-3 py-1 rounded bg-white/10 border border-white/10 text-[10px] font-black uppercase tracking-tighter",children:e})}function w({title:e,serviceKey:t,result:s,email:a,quote:n,features:o,high:c=!1}){let d=(0,b.useRouter)(),[u,m]=(0,i.useState)(!1),p=async()=>{m(!0);try{let e=await fetch("/api/quote",{method:"POST",body:JSON.stringify({plate:s.identity.plate,email:a,serviceMode:"SERVICE",serviceKey:t,classification:s.classification})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to save quote");d.push(`/book?id=${r.id}`)}catch(e){alert(e.message)}finally{m(!1)}};return(0,r.jsx)("div",{className:`p-8 rounded-3xl border-2 transition-all group ${c?"border-brand-yellow bg-brand-yellow/5":"border-white/10 bg-white/2 hover:border-white/30"}`,children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsx)("h3",{className:"text-2xl font-black italic uppercase tracking-tighter group-hover:text-brand-yellow transition-colors",children:e}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-4xl font-black leading-none",children:["$",n.total]}),(0,r.jsx)("div",{className:"text-[10px] text-white/40 font-bold uppercase",children:"All Inclusive"})]})]}),(0,r.jsx)("ul",{className:"space-y-3",children:o.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center gap-3 text-sm text-white/70",children:[(0,r.jsx)(x,{className:"text-brand-yellow",size:16})," ",e]},t))}),(0,r.jsxs)("div",{className:"p-4 bg-black/40 rounded-xl border border-white/5 flex items-start gap-3",children:[(0,r.jsx)(h,{size:16,className:"text-white/30 shrink-0 mt-0.5"}),(0,r.jsx)("p",{className:"text-[10px] leading-tight text-white/50 uppercase italic font-bold",children:n.disclaimer})]}),(0,r.jsx)("button",{onClick:p,disabled:u,className:`w-full py-4 rounded-xl font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${c?"bg-brand-yellow text-black hover:bg-white":"bg-white text-black hover:bg-brand-yellow"}`,children:u?(0,r.jsx)(l.A,{className:"animate-spin"}):"Select & Book Slot"})]})})}function v({title:e,quote:t}){return(0,r.jsxs)("div",{className:"p-4 bg-black/20 border border-white/5 rounded-xl space-y-2",children:[(0,r.jsx)("div",{className:"text-xs font-bold text-white/70",children:e}),(0,r.jsxs)("div",{className:"text-lg font-black italic",children:[t.estimateRange?.min," - ",t.estimateRange?.max]}),(0,r.jsx)("div",{className:"text-[9px] text-white/30 font-bold uppercase",children:"Est. Range (inc GST)"})]})}},70888:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(93734).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\nzmobileautos\\\\next\\\\src\\\\app\\\\(public\\\\)\\\\instant-quote\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\nzmobileautos\\next\\src\\app\\(public\\)\\instant-quote\\page.tsx","default")},60442:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var r=s(38982);s(39839);var i=s(72646),a=s(86455);let n={metadataBase:new URL(process.env.APP_URL||"https://mobileautoworksnz.com"),title:{default:"Mobile Autoworks NZ",template:"%s | Mobile Autoworks NZ"},description:"Book diagnostics and pre-purchase inspections across Auckland.",alternates:{canonical:"/"},openGraph:{type:"website",siteName:"Mobile Autoworks NZ",url:"/",title:"Mobile Autoworks NZ",description:"Book diagnostics and pre-purchase inspections across Auckland."}};async function l({children:e}){let t=process.env.ADMIN_AUTH_SECRET,s=(await i.UL()).get(a.Dn())?.value,n=!!t&&!!s&&!!await (0,a.XD)(s,t);return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)("header",{className:"sticky top-0 z-30 border-b border-white/10 bg-black/60 backdrop-blur",children:(0,r.jsxs)("div",{className:"container py-4 flex items-center justify-between gap-4",children:[(0,r.jsxs)("a",{href:"/",className:"flex items-center gap-3 no-underline",children:[(0,r.jsx)("div",{className:"h-9 w-9 rounded-lg bg-brand-yellow/15 border border-brand-yellow/30 flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-brand-yellow"})}),(0,r.jsxs)("div",{className:"leading-tight",children:[(0,r.jsxs)("div",{className:"font-semibold tracking-tight",children:[(0,r.jsx)("span",{className:"text-brand-yellow",children:"Mobile"})," Autoworks"]}),(0,r.jsx)("div",{className:"text-xs text-white/60",children:"Auckland • Diagnostics • Pre-purchase inspections"})]})]}),(0,r.jsxs)("nav",{className:"text-sm flex items-center gap-3",children:[n&&(0,r.jsx)("a",{className:"text-white/80 hover:text-white no-underline px-3 py-2 rounded-md hover:bg-white/5",href:"/admin",children:"Admin"}),(0,r.jsx)("a",{className:"no-underline px-3 py-2 rounded-md bg-brand-yellow text-black font-semibold hover:bg-brand-yellow/90",href:"/book",children:"Book now"})]})]})}),(0,r.jsx)("main",{className:"flex-1",children:e}),(0,r.jsx)("footer",{className:"border-t border-white/10",children:(0,r.jsx)("div",{className:"container py-10",children:(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-semibold",children:[(0,r.jsx)("span",{className:"text-brand-yellow",children:"Mobile"})," Autoworks NZ"]}),(0,r.jsx)("div",{className:"mt-2 text-sm text-white/60 max-w-md",children:"Mobile diagnostics and premium pre-purchase inspections across Auckland. Fast, clear communication and high-quality reports."})]}),(0,r.jsx)("div",{className:"text-sm text-white/60 md:text-right",children:(0,r.jsxs)("div",{children:["\xa9 ",new Date().getFullYear()," Mobile Autoworks NZ"]})})]})})})]})})})}},86455:(e,t,s)=>{"use strict";function r(e){return Buffer.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}function i(e){let t=e.length%4==0?"":"=".repeat(4-e.length%4),s=e.replace(/-/g,"+").replace(/_/g,"/")+t;return new Uint8Array(Buffer.from(s,"base64"))}async function a(e,t){let s=new TextEncoder,r=await crypto.subtle.importKey("raw",s.encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);return new Uint8Array(await crypto.subtle.sign("HMAC",r,s.encode(t)))}function n(){return"admin_session"}async function l(e,t){let s=JSON.stringify(e),i=r(new TextEncoder().encode(s)),n=r(await a(t,i));return`${i}.${n}`}async function o(e,t){let s=e.split(".");if(2!==s.length)return null;let[r,n]=s,l=await a(t,r),o=i(n);if(o.length!==l.length)return null;let c=0;for(let e=0;e<o.length;e++)c|=o[e]^l[e];if(0!==c)return null;try{let e=new TextDecoder().decode(i(r)),t=JSON.parse(e);if("admin"!==t.sub||"number"!=typeof t.exp||Date.now()>1e3*t.exp)return null;return t}catch{return null}}s.d(t,{Dn:()=>n,Fi:()=>l,XD:()=>o})},39839:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4762,2646,2169],()=>s(33876));module.exports=r})();