(()=>{var e={};e.id=2116,e.ids=[2116],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},95056:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var n=r(86958),s=r(61657),i=r(39809),a=r.n(i),o=r(8910),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["admin",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,71035)),"C:\\nzmobileautos\\next\\src\\app\\admin\\login\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,60442)),"C:\\nzmobileautos\\next\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,63031,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,7642,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,90563,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\nzmobileautos\\next\\src\\app\\admin\\login\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/login/page",pathname:"/admin/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9870:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,25265,23)),Promise.resolve().then(r.t.bind(r,34249,23)),Promise.resolve().then(r.t.bind(r,39809,23)),Promise.resolve().then(r.t.bind(r,51984,23)),Promise.resolve().then(r.t.bind(r,6480,23)),Promise.resolve().then(r.t.bind(r,65588,23)),Promise.resolve().then(r.t.bind(r,90635,23))},72918:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,95121,23)),Promise.resolve().then(r.t.bind(r,39593,23)),Promise.resolve().then(r.t.bind(r,91937,23)),Promise.resolve().then(r.t.bind(r,17744,23)),Promise.resolve().then(r.t.bind(r,42032,23)),Promise.resolve().then(r.t.bind(r,84692,23)),Promise.resolve().then(r.t.bind(r,58147,23))},88966:(e,t,r)=>{Promise.resolve().then(r.bind(r,71035))},58702:(e,t,r)=>{Promise.resolve().then(r.bind(r,26835))},64897:()=>{},78049:()=>{},37800:(e,t,r)=>{"use strict";var n=r(83676);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},26835:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(57102),s=r(37800),i=r(45087);function a(){let e=(0,s.useSearchParams)().get("next")||"/admin",[t,r]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[l,d]=(0,i.useState)(!1),c=async r=>{r.preventDefault(),d(!0);try{let r=await fetch("/api/admin/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:t,password:a})});if(!r.ok){let e=await r.text();throw Error(e||"Login failed")}window.location.href=e}catch(e){alert(e?.message||"Login failed")}finally{d(!1)}};return(0,n.jsxs)("div",{className:"container py-12 max-w-lg",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Admin login"}),(0,n.jsx)("p",{className:"mt-2 text-white/70",children:"Sign in to access bookings and quotes."}),(0,n.jsxs)("form",{onSubmit:c,className:"mt-8 grid gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-white/70",children:"Email"}),(0,n.jsx)("input",{className:"mt-1 w-full px-3 py-2.5 rounded-lg bg-black/40 border border-white/10 focus:border-brand-yellow/60",value:t,onChange:e=>r(e.target.value),autoComplete:"username"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-white/70",children:"Password"}),(0,n.jsx)("input",{className:"mt-1 w-full px-3 py-2.5 rounded-lg bg-black/40 border border-white/10 focus:border-brand-yellow/60",value:a,onChange:e=>o(e.target.value),type:"password",autoComplete:"current-password"})]}),(0,n.jsx)("button",{type:"submit",disabled:l,className:"mt-2 px-5 py-3 rounded-lg bg-brand-yellow text-black font-semibold disabled:opacity-60",children:l?"Signing in…":"Sign in"}),(0,n.jsx)("a",{className:"text-sm text-white/70 hover:text-white",href:"/",children:"Back to site"})]})]})}},71035:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(93734).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\nzmobileautos\\\\next\\\\src\\\\app\\\\admin\\\\login\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\nzmobileautos\\next\\src\\app\\admin\\login\\page.tsx","default")},60442:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>a});var n=r(38982);r(39839);var s=r(72646),i=r(86455);let a={metadataBase:new URL(process.env.APP_URL||"https://mobileautoworksnz.com"),title:{default:"Mobile Autoworks NZ",template:"%s | Mobile Autoworks NZ"},description:"Book diagnostics and pre-purchase inspections across Auckland.",alternates:{canonical:"/"},openGraph:{type:"website",siteName:"Mobile Autoworks NZ",url:"/",title:"Mobile Autoworks NZ",description:"Book diagnostics and pre-purchase inspections across Auckland."}};async function o({children:e}){let t=process.env.ADMIN_AUTH_SECRET,r=(await s.UL()).get(i.Dn())?.value,a=!!t&&!!r&&!!await (0,i.XD)(r,t);return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{children:(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,n.jsx)("header",{className:"sticky top-0 z-30 border-b border-white/10 bg-black/60 backdrop-blur",children:(0,n.jsxs)("div",{className:"container py-4 flex items-center justify-between gap-4",children:[(0,n.jsxs)("a",{href:"/",className:"flex items-center gap-3 no-underline",children:[(0,n.jsx)("div",{className:"h-9 w-9 rounded-lg bg-brand-yellow/15 border border-brand-yellow/30 flex items-center justify-center",children:(0,n.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-brand-yellow"})}),(0,n.jsxs)("div",{className:"leading-tight",children:[(0,n.jsxs)("div",{className:"font-semibold tracking-tight",children:[(0,n.jsx)("span",{className:"text-brand-yellow",children:"Mobile"})," Autoworks"]}),(0,n.jsx)("div",{className:"text-xs text-white/60",children:"Auckland • Diagnostics • Pre-purchase inspections"})]})]}),(0,n.jsxs)("nav",{className:"text-sm flex items-center gap-3",children:[a&&(0,n.jsx)("a",{className:"text-white/80 hover:text-white no-underline px-3 py-2 rounded-md hover:bg-white/5",href:"/admin",children:"Admin"}),(0,n.jsx)("a",{className:"no-underline px-3 py-2 rounded-md bg-brand-yellow text-black font-semibold hover:bg-brand-yellow/90",href:"/book",children:"Book now"})]})]})}),(0,n.jsx)("main",{className:"flex-1",children:e}),(0,n.jsx)("footer",{className:"border-t border-white/10",children:(0,n.jsx)("div",{className:"container py-10",children:(0,n.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"font-semibold",children:[(0,n.jsx)("span",{className:"text-brand-yellow",children:"Mobile"})," Autoworks NZ"]}),(0,n.jsx)("div",{className:"mt-2 text-sm text-white/60 max-w-md",children:"Mobile diagnostics and premium pre-purchase inspections across Auckland. Fast, clear communication and high-quality reports."})]}),(0,n.jsx)("div",{className:"text-sm text-white/60 md:text-right",children:(0,n.jsxs)("div",{children:["\xa9 ",new Date().getFullYear()," Mobile Autoworks NZ"]})})]})})})]})})})}},86455:(e,t,r)=>{"use strict";function n(e){return Buffer.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}function s(e){let t=e.length%4==0?"":"=".repeat(4-e.length%4),r=e.replace(/-/g,"+").replace(/_/g,"/")+t;return new Uint8Array(Buffer.from(r,"base64"))}async function i(e,t){let r=new TextEncoder,n=await crypto.subtle.importKey("raw",r.encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);return new Uint8Array(await crypto.subtle.sign("HMAC",n,r.encode(t)))}function a(){return"admin_session"}async function o(e,t){let r=JSON.stringify(e),s=n(new TextEncoder().encode(r)),a=n(await i(t,s));return`${s}.${a}`}async function l(e,t){let r=e.split(".");if(2!==r.length)return null;let[n,a]=r,o=await i(t,n),l=s(a);if(l.length!==o.length)return null;let d=0;for(let e=0;e<l.length;e++)d|=l[e]^o[e];if(0!==d)return null;try{let e=new TextDecoder().decode(s(n)),t=JSON.parse(e);if("admin"!==t.sub||"number"!=typeof t.exp||Date.now()>1e3*t.exp)return null;return t}catch{return null}}r.d(t,{Dn:()=>a,Fi:()=>o,XD:()=>l})},39839:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[4762,2646,2169],()=>r(95056));module.exports=n})();