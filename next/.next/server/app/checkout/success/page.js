(()=>{var e={};e.id=4003,e.ids=[4003],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},29914:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=s(86958),n=s(61657),i=s(39809),o=s.n(i),a=s(8910),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let d=["",{children:["checkout",{children:["success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,32648)),"C:\\nzmobileautos\\next\\src\\app\\checkout\\success\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,60442)),"C:\\nzmobileautos\\next\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,63031,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,7642,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,90563,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\nzmobileautos\\next\\src\\app\\checkout\\success\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/checkout/success/page",pathname:"/checkout/success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9870:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,25265,23)),Promise.resolve().then(s.t.bind(s,34249,23)),Promise.resolve().then(s.t.bind(s,39809,23)),Promise.resolve().then(s.t.bind(s,51984,23)),Promise.resolve().then(s.t.bind(s,6480,23)),Promise.resolve().then(s.t.bind(s,65588,23)),Promise.resolve().then(s.t.bind(s,90635,23))},72918:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,95121,23)),Promise.resolve().then(s.t.bind(s,39593,23)),Promise.resolve().then(s.t.bind(s,91937,23)),Promise.resolve().then(s.t.bind(s,17744,23)),Promise.resolve().then(s.t.bind(s,42032,23)),Promise.resolve().then(s.t.bind(s,84692,23)),Promise.resolve().then(s.t.bind(s,58147,23))},64897:()=>{},78049:()=>{},42167:()=>{},95311:()=>{},32648:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a,dynamic:()=>i,revalidate:()=>o});var r=s(38982),n=s(22944);let i="force-dynamic",o=0;async function a({searchParams:e}){let t=e?await e:void 0,s=t?.bookingId,i=s?await (0,n.db)().getBookingById(s):null,o=i?.status==="CONFIRMED";return(0,r.jsx)("div",{className:"container py-12",children:(0,r.jsxs)("div",{className:"max-w-xl",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-green-500/20 mb-6",children:(0,r.jsx)("svg",{className:"h-8 w-8 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:o?"Booking confirmed":"Payment received"}),(0,r.jsx)("p",{className:"mt-2 text-white/70",children:o?"Your diagnostics appointment is now confirmed.":"We’re finalising your booking now. This usually takes a few seconds — please wait or refresh."}),i&&(0,r.jsxs)("div",{className:"mt-6 rounded-xl border border-white/10 bg-white/5 p-5",children:[(0,r.jsx)("div",{className:"text-sm text-white/60",children:"Reference"}),(0,r.jsx)("div",{className:"mt-1 font-mono text-white",children:i.id.slice(0,8).toUpperCase()}),(0,r.jsx)("div",{className:"mt-4 text-sm text-white/60",children:"Status"}),(0,r.jsx)("div",{className:"mt-1 text-white font-medium",children:"CONFIRMED"===i.status?"Confirmed":i.status})]}),(0,r.jsxs)("div",{className:"mt-8 rounded-xl border border-white/10 bg-white/5 p-5",children:[(0,r.jsx)("div",{className:"font-semibold",children:"What happens next"}),(0,r.jsxs)("ul",{className:"mt-3 space-y-2 text-sm text-white/70",children:[(0,r.jsx)("li",{children:"• We'll contact you to confirm the appointment time"}),(0,r.jsx)("li",{children:"• Our mechanic will arrive at your location with diagnostic equipment"}),(0,r.jsx)("li",{children:"• You'll receive a detailed fault report after the scan"})]})]}),(0,r.jsxs)("div",{className:"mt-8 flex gap-3",children:[(0,r.jsx)("a",{className:"px-5 py-3 rounded-lg bg-brand-yellow text-black font-semibold",href:"/",children:"Back to home"}),(0,r.jsx)("a",{className:"px-5 py-3 rounded-lg border border-white/15 text-white",href:"/book",children:"Book another service"})]})]})})}},60442:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a,metadata:()=>o});var r=s(38982);s(39839);var n=s(72646),i=s(86455);let o={metadataBase:new URL(process.env.APP_URL||"https://mobileautoworksnz.com"),title:{default:"Mobile Autoworks NZ",template:"%s | Mobile Autoworks NZ"},description:"Book diagnostics and pre-purchase inspections across Auckland.",alternates:{canonical:"/"},openGraph:{type:"website",siteName:"Mobile Autoworks NZ",url:"/",title:"Mobile Autoworks NZ",description:"Book diagnostics and pre-purchase inspections across Auckland."}};async function a({children:e}){let t=process.env.ADMIN_AUTH_SECRET,s=(await n.UL()).get(i.Dn())?.value,o=!!t&&!!s&&!!await (0,i.XD)(s,t);return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)("header",{className:"sticky top-0 z-30 border-b border-white/10 bg-black/60 backdrop-blur",children:(0,r.jsxs)("div",{className:"container py-4 flex items-center justify-between gap-4",children:[(0,r.jsxs)("a",{href:"/",className:"flex items-center gap-3 no-underline",children:[(0,r.jsx)("div",{className:"h-9 w-9 rounded-lg bg-brand-yellow/15 border border-brand-yellow/30 flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-brand-yellow"})}),(0,r.jsxs)("div",{className:"leading-tight",children:[(0,r.jsxs)("div",{className:"font-semibold tracking-tight",children:[(0,r.jsx)("span",{className:"text-brand-yellow",children:"Mobile"})," Autoworks"]}),(0,r.jsx)("div",{className:"text-xs text-white/60",children:"Auckland • Diagnostics • Pre-purchase inspections"})]})]}),(0,r.jsxs)("nav",{className:"text-sm flex items-center gap-3",children:[o&&(0,r.jsx)("a",{className:"text-white/80 hover:text-white no-underline px-3 py-2 rounded-md hover:bg-white/5",href:"/admin",children:"Admin"}),(0,r.jsx)("a",{className:"no-underline px-3 py-2 rounded-md bg-brand-yellow text-black font-semibold hover:bg-brand-yellow/90",href:"/book",children:"Book now"})]})]})}),(0,r.jsx)("main",{className:"flex-1",children:e}),(0,r.jsx)("footer",{className:"border-t border-white/10",children:(0,r.jsx)("div",{className:"container py-10",children:(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-semibold",children:[(0,r.jsx)("span",{className:"text-brand-yellow",children:"Mobile"})," Autoworks NZ"]}),(0,r.jsx)("div",{className:"mt-2 text-sm text-white/60 max-w-md",children:"Mobile diagnostics and premium pre-purchase inspections across Auckland. Fast, clear communication and high-quality reports."})]}),(0,r.jsx)("div",{className:"text-sm text-white/60 md:text-right",children:(0,r.jsxs)("div",{children:["\xa9 ",new Date().getFullYear()," Mobile Autoworks NZ"]})})]})})})]})})})}},86455:(e,t,s)=>{"use strict";function r(e){return Buffer.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}function n(e){let t=e.length%4==0?"":"=".repeat(4-e.length%4),s=e.replace(/-/g,"+").replace(/_/g,"/")+t;return new Uint8Array(Buffer.from(s,"base64"))}async function i(e,t){let s=new TextEncoder,r=await crypto.subtle.importKey("raw",s.encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);return new Uint8Array(await crypto.subtle.sign("HMAC",r,s.encode(t)))}function o(){return"admin_session"}async function a(e,t){let s=JSON.stringify(e),n=r(new TextEncoder().encode(s)),o=r(await i(t,n));return`${n}.${o}`}async function l(e,t){let s=e.split(".");if(2!==s.length)return null;let[r,o]=s,a=await i(t,r),l=n(o);if(l.length!==a.length)return null;let d=0;for(let e=0;e<l.length;e++)d|=l[e]^a[e];if(0!==d)return null;try{let e=new TextDecoder().decode(n(r)),t=JSON.parse(e);if("admin"!==t.sub||"number"!=typeof t.exp||Date.now()>1e3*t.exp)return null;return t}catch{return null}}s.d(t,{Dn:()=>o,Fi:()=>a,XD:()=>l})},39839:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4762,2646,2169,2944],()=>s(29914));module.exports=r})();