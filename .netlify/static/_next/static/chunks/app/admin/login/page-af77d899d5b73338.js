(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{6133:(e,t,a)=>{Promise.resolve().then(a.bind(a,4991))},6046:(e,t,a)=>{"use strict";var s=a(6658);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},4991:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(5155),r=a(6046),l=a(2115);function n(){let e=(0,r.useSearchParams)().get("next")||"/admin",[t,a]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[o,d]=(0,l.useState)(!1),c=async a=>{a.preventDefault(),d(!0);try{let a=await fetch("/api/admin/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:t,password:n})});if(!a.ok){let e=await a.text();throw Error(e||"Login failed")}window.location.href=e}catch(e){alert((null==e?void 0:e.message)||"Login failed")}finally{d(!1)}};return(0,s.jsxs)("div",{className:"container py-12 max-w-lg",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Admin login"}),(0,s.jsx)("p",{className:"mt-2 text-white/70",children:"Sign in to access bookings and quotes."}),(0,s.jsxs)("form",{onSubmit:c,className:"mt-8 grid gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-white/70",children:"Email"}),(0,s.jsx)("input",{className:"mt-1 w-full px-3 py-2.5 rounded-lg bg-black/40 border border-white/10 focus:border-brand-yellow/60",value:t,onChange:e=>a(e.target.value),autoComplete:"username"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm text-white/70",children:"Password"}),(0,s.jsx)("input",{className:"mt-1 w-full px-3 py-2.5 rounded-lg bg-black/40 border border-white/10 focus:border-brand-yellow/60",value:n,onChange:e=>i(e.target.value),type:"password",autoComplete:"current-password"})]}),(0,s.jsx)("button",{type:"submit",disabled:o,className:"mt-2 px-5 py-3 rounded-lg bg-brand-yellow text-black font-semibold disabled:opacity-60",children:o?"Signing inâ€¦":"Sign in"}),(0,s.jsx)("a",{className:"text-sm text-white/70 hover:text-white",href:"/",children:"Back to site"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(6133)),_N_E=e.O()}]);